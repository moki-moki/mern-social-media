(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(n,e,t){"use strict";t.r(e);var r,c,o,i,a,s,u,d,l,b,h,j,p,f,x,m,O,g,v,w,y,k,S,C,B,I,T,E,_,F,N,z,A,L,M,R,D,P,U,J,G,X,H,q,Q,W,Y,V,K,Z,$,nn,en,tn,rn,cn,on,an,sn,un,dn,ln,bn,hn,jn,pn,fn,xn,mn,On,gn,vn,wn,yn,kn,Sn,Cn,Bn,In,Tn,En,_n,Fn,Nn,zn,An,Ln,Mn,Rn,Dn,Pn,Un,Jn,Gn,Xn,Hn,qn,Qn,Wn,Yn,Vn,Kn,Zn,$n,ne,ee,te,re,ce,oe,ie,ae,se,ue,de,le,be,he,je,pe,fe,xe=t(1),me=t.n(xe),Oe=t(43),ge=t.n(Oe),ve=t(5),we=t(2),ye=function(n,e){switch(e.type){case"LOGIN_START":return{user:null,loading:!0,error:!1};case"LOGIN_SUCCESS":return{user:e.payload,loading:!1,error:!1};case"LOGIN_FAIL":return{user:null,loading:!1,error:!0};default:return n}},ke=t(0),Se={user:JSON.parse(localStorage.getItem("user"))||null,loading:!1,error:!1},Ce=Object(xe.createContext)(Se),Be=function(n){var e=n.children,t=Object(xe.useReducer)(ye,Se),r=Object(ve.a)(t,2),c=r[0],o=r[1];return Object(xe.useEffect)((function(){localStorage.setItem("user",JSON.stringify(c.user))}),[c.user]),Object(ke.jsx)(Ce.Provider,{value:{user:c.user,loading:c.loading,error:c.error,dispatch:o},children:e})},Ie=t(50),Te=t(3),Ee=Object(we.b)(r||(r=Object(Te.a)(["\n@import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');\n\n* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\nbody {\n    background: ",';\n    font-family: "Montserrat", sans-serif;\n    line-height: 1.5;\n    position: relative;\n    min-height: 100vh;\n    padding-bottom: 45px;\n    overflow-x: hidden;\n}\n\nh1, h2, h3, h4, h5 {\n    color: ',";\n}\n\np {\n    color: ","\n}\n\nli {\n    list-style: none;\n}\n\na {\n    text-decoration: none;\n    color ",";\n    transition: 0.2s ease all;\n}\n\na:hover {\n    color: ",";\n}\n\ninput[type='file'] {\ndisplay: none;\n}\n\np1 {\n    color: ","\n}\n\nb {\n    color: ",";\n    font-weight: bold;\n}\n\n"])),(function(n){return n.theme.colors.body}),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.orangeBtn}),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.heading})),_e=Ee,Fe=t(8),Ne=t(7),ze=t(4),Ae=t.n(ze),Le=t(6),Me=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){var r,c,o,i,a;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.email,c=e.password,t({type:"LOGIN_START"}),o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r,password:c})},n.prev=3,n.next=6,fetch("/api/auth/login",o);case 6:return i=n.sent,n.next=9,i.json();case 9:return a=n.sent,n.next=12,t({type:"LOGIN_SUCCESS",payload:a});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(3),t({type:"LOGIN_FAIL",payload:n.t0});case 17:case"end":return n.stop()}}),n,null,[[3,14]])})));return function(e,t){return n.apply(this,arguments)}}(),Re=we.c.div(c||(c=Object(Te.a)(["\n  position: fixed;\n  top: 85%;\n  left: -100%;\n  background-color: ",";\n  border: 2px solid ",';\n  border-radius: 10px;\n  animation: enter-leave 3s ease;\n\n  &::after {\n    content: "";\n    display: block;\n    position: relative;\n    top: 2px;\n    left: 7px;\n    width: 0;\n    height: 2px;\n    background: ',";\n    border-radius: 10px;\n    animation: loading 3s ease;\n  }\n\n  @keyframes loading {\n    0% {\n      width: 0%;\n    }\n    100% {\n      width: 95%;\n    }\n  }\n\n  @keyframes enter-leave {\n    0% {\n      left: -260px;\n      display: block;\n    }\n    7.5% {\n      left: 15px;\n      display: block;\n    }\n    92.5% {\n      left: 15px;\n      display: block;\n    }\n    100% {\n      left: -360px;\n      display: block;\n    }\n  }\n"])),(function(n){return n.theme.colors.body}),(function(n){return n.theme.colors.redBtn}),(function(n){return n.theme.colors.heading})),De=(we.c.p(o||(o=Object(Te.a)(["\n  padding: 0.6em;\n"]))),we.c.div(i||(i=Object(Te.a)(["\n  position: fixed;\n  top: 85%;\n  left: -100%;\n  background-color: ",";\n  border: 2px solid ",';\n  border-radius: 10px;\n  animation: enter-leave 3s ease;\n\n  &::after {\n    content: "";\n    display: block;\n    position: relative;\n    top: 2px;\n    left: 7px;\n    width: 0;\n    height: 2px;\n    background: ',";\n    border-radius: 10px;\n    animation: loading 3s ease;\n  }\n\n  @keyframes loading {\n    0% {\n      width: 0%;\n    }\n    100% {\n      width: 95%;\n    }\n  }\n\n  @keyframes enter-leave {\n    0% {\n      left: -260px;\n      display: block;\n    }\n    7.5% {\n      left: 15px;\n      display: block;\n    }\n    92.5% {\n      left: 15px;\n      display: block;\n    }\n    100% {\n      left: -360px;\n      display: block;\n    }\n  }\n"])),(function(n){return n.theme.colors.body}),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.heading}))),Pe=we.c.p(a||(a=Object(Te.a)(["\n  padding: 0.6em;\n"]))),Ue=function(n){var e=n.text;return Object(ke.jsx)(Re,{children:Object(ke.jsx)(Pe,{children:e})})},Je=we.c.form(s||(s=Object(Te.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100vh;\n"]))),Ge=we.c.input(u||(u=Object(Te.a)(["\n  color: ",";\n  background: none;\n  border: none;\n  border-bottom: 1px solid ",";\n  margin: 1em 0;\n  padding: 1em;\n  width: 60%;\n  transition: 0.2s ease all;\n\n  &:focus {\n    outline: none;\n    border-bottom-color: ",";\n  }\n\n  &:invalid {\n    border-bottom-color: ",";\n  }\n\n  @media (max-width: 740px) {\n    width: 80%;\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.redBtn})),Xe=we.c.button(d||(d=Object(Te.a)(["\n  color: ",";\n  border: 1px solid ",";\n  background: none;\n  padding: 1em;\n  width: 10%;\n  font-size: 1em;\n  transition: 0.2s ease all;\n  margin: 1em 0;\n\n  &:hover {\n    background: ",";\n    border-radius: 15px;\n  }\n\n  @media (max-width: 740px) {\n    width: 80%;\n  }\n"])),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.greenBtn})),He=we.c.label(l||(l=Object(Te.a)(["\n  width: 60%;\n  display: flex;\n  align-items: flex-start;\n  color: ",";\n"])),(function(n){return n.theme.colors.heading})),qe=we.c.span(b||(b=Object(Te.a)(["\n  color: ",";\n"])),(function(n){return n.theme.colors.text})),Qe=function(){var n=Object(xe.useRef)(),e=Object(xe.useRef)(),t=Object(xe.useContext)(Ce),r=t.user,c=t.error,o=t.dispatch,i=Object(Ne.g)();Object(xe.useEffect)((function(){r&&i.push("/")}),[]);var a=function(){var t=Object(Le.a)(Ae.a.mark((function t(r){return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,Me({email:e.current.value,password:n.current.value},o);case 4:i.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(n){return t.apply(this,arguments)}}();return Object(ke.jsxs)("div",{children:[Object(ke.jsxs)(Je,{onSubmit:function(n){return a(n)},children:[Object(ke.jsx)(Ge,{placeholder:"Email",type:"email",required:!0,ref:e}),Object(ke.jsx)(Ge,{placeholder:"Password",type:"password",required:!0,minLength:"6",ref:n}),Object(ke.jsx)(Xe,{type:"submit",children:"LOGIN"}),Object(ke.jsxs)(qe,{children:["Don't have an account? ",Object(ke.jsx)(Fe.b,{to:"/register",children:"Register"})]})]}),c?Object(ke.jsx)(Ue,{text:"Wrong Credentials..."}):null]})},We=function(){var n=Object(xe.useRef)(),e=Object(xe.useRef)(),t=Object(xe.useRef)(),r=Object(Ne.g)(),c=Object(xe.useState)(!1),o=Object(ve.a)(c,2),i=o[0],a=o[1],s=function(){var c=Object(Le.a)(Ae.a.mark((function c(o){var s,u,d;return Ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o.preventDefault(),s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n.current.value,email:t.current.value,password:e.current.value})},c.prev=2,c.next=5,fetch("/api/auth/register",s);case 5:return u=c.sent,c.next=8,u.json();case 8:d=c.sent,localStorage.setItem("authToken",d.token),r.push("/"),c.next=17;break;case 13:c.prev=13,c.t0=c.catch(2),console.log(c.t0),a(!i);case 17:case"end":return c.stop()}}),c,null,[[2,13]])})));return function(n){return c.apply(this,arguments)}}();return Object(ke.jsxs)("div",{children:[Object(ke.jsxs)(Je,{onSubmit:s,children:[Object(ke.jsx)("h2",{children:"REGISTER"}),Object(ke.jsx)(He,{htmlFor:"name",children:"Username"}),Object(ke.jsx)(Ge,{type:"text",required:!0,id:"name",placeholder:"username",ref:n}),Object(ke.jsx)(He,{htmlFor:"email",children:"Email"}),Object(ke.jsx)(Ge,{type:"text",required:!0,id:"email",placeholder:"email",ref:t}),Object(ke.jsx)(He,{htmlFor:"password",children:"Password"}),Object(ke.jsx)(Ge,{type:"password",required:!0,minLength:"6",id:"password",placeholder:"password",ref:e}),Object(ke.jsx)(Xe,{type:"submit",children:"Register"}),Object(ke.jsxs)(qe,{children:["Already have an account? ",Object(ke.jsx)(Fe.b,{to:"/login",children:"Login"})]})]}),i?Object(ke.jsx)(Ue,{text:"Try different Username or Email..."}):null]})},Ye=we.c.div(h||(h=Object(Te.a)(["\n  background: ",";\n  margin: 0 auto;\n  width: 50%;\n  height: 100%;\n  border-radius: 15px;\n\n  @media (max-width: 910px) {\n    width: 80%;\n  }\n\n  @media (max-width: 590px) {\n    width: 90%;\n  }\n"])),(function(n){return n.theme.colors.cardBg})),Ve=we.c.div(j||(j=Object(Te.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  margin: 2em 0;\n  width: 100%;\n"]))),Ke=we.c.div(p||(p=Object(Te.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  width: 100%;\n"]))),Ze=we.c.div(f||(f=Object(Te.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  margin: 1em 0;\n  padding: 0 1em;\n  transition: 0.2s ease background;\n"]))),$e=Object(we.c)(Fe.b)(x||(x=Object(Te.a)(["\n  display: flex;\n  align-items: center;\n  padding: 0.3em;\n  border-radius: 10px;\n  transition: 0.2s ease all;\n  cursor: pointer;\n  &:hover {\n    color: ",";\n    background: ",";\n  }\n"])),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.hoverOverlay})),nt=(Object(we.c)(Fe.b)(m||(m=Object(Te.a)(["\n  display: flex;\n  align-items: center;\n"]))),we.c.p(O||(O=Object(Te.a)(["\n  color: ",";\n  font-size: 1.3em;\n  margin: 1em 0;\n  padding: 0 1em;\n  width: 100%;\n  transition: 0.2s ease background;\n"])),(function(n){return n.theme.colors.text}))),et=we.c.img(g||(g=Object(Te.a)(["\n  height: 30px;\n  width: 30px;\n  border-radius: 15px;\n  margin: 0 5px;\n"]))),tt=we.c.div(v||(v=Object(Te.a)(["\n  padding: 0.5em;\n  width: 100%;\n  border-top: 1px solid ",";\n  display: flex;\n  justify-content: space-around;\n  align-items: flex-start;\n"])),(function(n){return n.theme.colors.heading})),rt=we.c.div(w||(w=Object(Te.a)(["\n  width: 100%;\n"]))),ct=we.c.button(y||(y=Object(Te.a)(["\n  background: none;\n  border: 1px solid ",";\n  padding: 0.2em;\n  font-size: 1.5em;\n  transition: 0.2s ease all;\n  cursor: pointer;\n  color: ",";\n  &:hover {\n    border-radius: 10px;\n    background: ",";\n  }\n  &:active {\n    background: ",";\n  }\n\n  &:focus {\n    background: ",";\n  }\n"])),(function(n){return n.theme.colors.editBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.editBtn}),(function(n){return n.theme.colors.editBtn}),(function(n){return n.theme.colors.editBtn})),ot=we.c.button(k||(k=Object(Te.a)(["\n  font-size: 1.5em;\n  cursor: pointer;\n  padding: 0.2em;\n  background: ",";\n  border: 1px solid ",";\n  transition: 0.2s ease all;\n  margin: 0 0.3em;\n  color: ",";\n\n  &:hover {\n    background: ",";\n    border-radius: 10px;\n  }\n"])),(function(n){return n.isDisliked?"#ff3860":"none"}),(function(n){return n.theme.colors.redBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.redBtn})),it=we.c.button(S||(S=Object(Te.a)(["\n  font-size: 1.5em;\n  cursor: pointer;\n  padding: 0.2em;\n  background: ",";\n  border: 1px solid ",";\n  transition: 0.2s ease all;\n  margin: 0 0.3em;\n  color: ",";\n\n  &:hover {\n    background: ",";\n    border-radius: 10px;\n  }\n"])),(function(n){return n.isLiked?"#09c372":"none"}),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.greenBtn})),at=Object(we.c)(Fe.b)(C||(C=Object(Te.a)(["\n  color: ",";\n  padding: 0.2em;\n  transition: 0.3s ease all;\n  width: 100%;\n  display: inline-block;\n  border-radius: 10px;\n  &:hover {\n    color: ",";\n    background: ",";\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.hoverOverlay})),st=(we.c.p(B||(B=Object(Te.a)(["\n  &:hover {\n    background: ",";\n    transition: 0.2s ease background;\n  }\n"])),(function(n){return n.theme.colors.hoverOverlay})),we.c.span(I||(I=Object(Te.a)(["\n  color: ",";\n  margin: 0 0.3em;\n"])),(function(n){return n.theme.colors.heading}))),ut=we.c.button(T||(T=Object(Te.a)(["\n  font-size: 1.5em;\n  cursor: pointer;\n  padding: 0.2em;\n  background: none;\n  border: 1px solid ",";\n  transition: 0.2s ease all;\n  margin: 0 0.3em;\n  color: ",";\n\n  &:hover {\n    border-radius: 10px;\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.text})),dt=we.c.span(E||(E=Object(Te.a)(["\n  color: ",";\n"])),(function(n){return n.theme.colors.heading})),lt=we.c.p(_||(_=Object(Te.a)(["\n  color: ",";\n  font-weight: bold;\n"])),(function(n){return n.theme.colors.heading})),bt=we.c.div(F||(F=Object(Te.a)(["\n  position: fixed;\n  height: 100vh;\n  width: 100vw;\n  background: rgb(0, 0, 0, 0.5);\n  top: 0;\n  left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 3;\n"]))),ht=we.c.div(N||(N=Object(Te.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  height: 60vh;\n  width: 70%;\n  margin: 0 auto;\n  background: ",";\n  border: 3px solid ",";\n  border-radius: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 0.5em;\n\n  @media (max-width: 834px) {\n    width: 90%;\n    height: 70vh;\n  }\n"])),(function(n){return n.theme.colors.body}),(function(n){return n.theme.colors.editBtn})),jt=we.c.span(z||(z=Object(Te.a)(["\n  position: absolute;\n  top: 4%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  margin: 1em;\n  padding: 0.3em;\n  border: 1px solid ",";\n  cursor: pointer;\n  transition: 0.3s ease all;\n\n  &:hover {\n    border-radius: 10px;\n    background: ",";\n  }\n"])),(function(n){return n.theme.colors.editBtn}),(function(n){return n.theme.colors.editBtn})),pt=function(){var n=Object(Le.a)(Ae.a.mark((function n(){var e;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/");case 3:return e=n.sent,n.next=6,e.json();case 6:return n.abrupt("return",n.sent);case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),ft=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/".concat(e,"/like"),t);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t){return n.apply(this,arguments)}}(),xt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/".concat(e,"/dislike"),t);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t){return n.apply(this,arguments)}}(),mt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/".concat(e),{method:"DELETE"});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}(),Ot=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/user?userId=".concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),gt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/upload",{method:"POST",body:e});case 3:return t=n.sent,n.next=6,t.json();case 6:return n.abrupt("return",n.sent);case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}(),vt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t,r){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({desc:e,img:t,userId:r})});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e,t,r){return n.apply(this,arguments)}}(),wt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){var r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/profile/".concat(e,"/").concat(t));case 3:return r=n.sent,n.next=6,r.json();case 6:return n.abrupt("return",n.sent);case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}(),yt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/delete/".concat(e,"/").concat(t),{method:"DELETE"});case 3:return n.next=5,window.location.reload();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),kt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t,r){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/posts/comment/".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,userId:r})});case 3:window.location.reload(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e,t,r){return n.apply(this,arguments)}}(),St=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/user/edit/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});case 3:localStorage.removeItem("user"),window.location.reload(),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),Ct=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t,r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/user/friends/".concat(e));case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.next=9,r;case 9:return n.abrupt("return",n.sent);case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),Bt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/user/addFriend/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})});case 3:return n.next=5,window.location.reload();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),It=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/user/removeFriend/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:t})});case 3:return n.next=5,window.location.reload();case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e,t){return n.apply(this,arguments)}}(),Tt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t,r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/user?userId=".concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return r=n.sent,n.abrupt("return",r);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Et=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t,r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/msgs/conversation/".concat(e));case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),_t=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t,r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/msgs/".concat(e));case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),Ft=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){var r,c;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/msgs/conversation/".concat(e,"/").concat(t));case 3:return r=n.sent,n.next=6,r.json();case 6:return c=n.sent,n.abrupt("return",c);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}(),Nt=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var t,r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("/api/msgs/sendMsg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),zt=function(n){var e=n.id,t=n.setOpenModal,r=n.openModal,c=Object(Ne.g)(),o=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mt(e);case 2:"/"===window.location.pathname?window.location.reload():c.push("/");case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(ke.jsx)(bt,{children:Object(ke.jsxs)(ht,{children:[Object(ke.jsx)(jt,{onClick:function(){t(!r)},children:"\u274c"}),Object(ke.jsx)("h1",{style:{padding:"0.5em"},children:"Are you sure you want to delete this post?"}),Object(ke.jsx)(ct,{onClick:function(){return o(e)},children:"Delete \ud83d\udca9"})]})})},At=t(29),Lt=t.n(At),Mt=function(n){var e=n.likeArr,t=n.dislikeArr,r=n.id,c=n.userPost,o=n.socket,i=Object(xe.useState)(e.length),a=Object(ve.a)(i,2),s=a[0],u=a[1],d=Object(xe.useState)(t.length),l=Object(ve.a)(d,2),b=l[0],h=l[1],j=Object(xe.useState)(!1),p=Object(ve.a)(j,2),f=p[0],x=p[1],m=Object(xe.useState)(!1),O=Object(ve.a)(m,2),g=O[0],v=O[1],w=Object(xe.useContext)(Ce).user,y={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:w.user._id})};Object(xe.useEffect)((function(){v(e.includes(w.user._id)),x(t.includes(w.user._id))}),[w.user._id,e,t]);var k=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:!0===g?(ft(r,y),u(s-1),v(!g),xt(r,y),h(f?b-1:b+1),x(!f)):!0===f?(xt(r,y),h(f?b-1:b+1),x(!f)):(xt(r,y),h(f?b-1:b+1),x(!f),o.current.emit("sendNotification",{senderName:w.user.username,receiverName:c,type:e}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsxs)(it,{onClick:function(){return n=1,void(!0===f?(ft(r,y),u(g?s-1:s+1),v(!g),xt(r,y),h(b-1),x(!f)):!0===g?(ft(r,y),u(g?s-1:s+1),v(!g)):(ft(r,y),u(g?s-1:s+1),v(!g),o.current.emit("sendNotification",{senderName:w.user.username,receiverName:c,type:n})));var n},isLiked:g,children:["\ud83d\udc4d ",s>0?s:null]}),Object(ke.jsxs)(ot,{isDisliked:f,onClick:function(){return k(2)},children:["\ud83d\udca9",b>0?b:null]})]})},Rt=function(n){var e=n.post,t=n.socket,r=Object(xe.useState)({}),c=Object(ve.a)(r,2),o=c[0],i=c[1],a=Object(xe.useState)(!1),s=Object(ve.a)(a,2),u=s[0],d=s[1],l=Object(xe.useContext)(Ce).user;Object(xe.useEffect)((function(){Ot(e.userId).then((function(n){return i(n)}))}),[e.userId]);var b=function(){var n=Object(Le.a)(Ae.a.mark((function n(){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:d(!u);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(ke.jsx)(Ye,{children:Object(ke.jsx)(Ve,{children:Object(ke.jsxs)(Ke,{children:[Object(ke.jsxs)(Ze,{children:[Object(ke.jsxs)($e,{to:"/profile/".concat(o.username,"/").concat(o._id),children:[Object(ke.jsx)(et,{src:"\nhttps://avatars.dicebear.com/api/identicon/".concat(o.username,".svg\n        ")}),Object(ke.jsx)(st,{children:o.username})]}),Object(ke.jsx)("div",{children:Object(ke.jsxs)("p",{children:["Posted At:",Object(ke.jsx)(st,{children:Lt()(e.createdAt).format("DD MMM  HH:mm")})]})})]}),Object(ke.jsx)("div",{style:{width:"100%"},children:Object(ke.jsx)(nt,{children:Object(ke.jsx)(at,{to:"/posts/".concat(e._id),children:e.desc})})}),Object(ke.jsx)("img",{src:"https://mokimoki-mern-social-media.herokuapp.com/images/".concat(e.img),style:{width:"100%"},alt:""}),Object(ke.jsxs)(tt,{children:[Object(ke.jsxs)(rt,{children:[Object(ke.jsx)(Mt,{socket:t,id:e._id,likeArr:e.likes,dislikeArr:e.dislikes,postUserId:e.userId,userPost:o.username}),Object(ke.jsx)(ut,{children:Object(ke.jsxs)(Fe.b,{to:"/posts/".concat(e._id),children:["\ud83d\udcac",e.comments.length>0?e.comments.length:null]})})]}),l.user._id===e.userId?Object(ke.jsx)(ct,{onClick:function(){return b(e._id)},children:"\u274c"}):null,u?Object(ke.jsx)(zt,{setOpenModal:d,openModal:u,id:e._id}):null]})]})})})},Dt=we.c.span(A||(A=Object(Te.a)(["\n  position: fixed;\n  display: inline-block;\n  bottom: 6%;\n  left: 7%;\n  color: ",";\n  font-size: 3em;\n  cursor: pointer;\n  transition: 0.2s ease all;\n\n  &:hover {\n    color: ",";\n  }\n\n  @media (max-width: 910px) {\n    left: 3%;\n    bottom: 3%;\n  }\n\n  @media (max-width: 590px) {\n    display: none;\n  }\n"])),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.editBtn})),Pt=function(){var n=Object(we.d)(L||(L=Object(Te.a)(["\n      0%,\n      100% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(1);\n      }\n  "]))),e=we.c.div(M||(M=Object(Te.a)(["\n    width: 40px;\n    height: 40px;\n    position: relative;\n    margin: auto;\n    top: 300px;\n  "]))),t=we.c.div(R||(R=Object(Te.a)(["\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: ",";\n    opacity: 0.6;\n    position: absolute;\n    top: 0;\n    left: 0;\n    animation: "," 2s infinite ease-in-out;\n  "])),(function(n){return n.theme.colors.orangeBtn}),n);return Object(ke.jsxs)(e,{children:[Object(ke.jsx)(t,{}),Object(ke.jsx)(t,{})]})},Ut=we.c.div(D||(D=Object(Te.a)(["\n  max-width: 1240px;\n  margin: 0 auto;\n"]))),Jt=function(n){var e=n.socket,t=Object(xe.useState)(),r=Object(ve.a)(t,2),c=r[0],o=r[1],i=Object(xe.useContext)(Ce).user,a=Object(Ne.g)();Object(xe.useEffect)((function(){pt().then((function(n){return o(n.sort((function(n,e){return new Date(e.createdAt)-new Date(n.createdAt)})))})),i||a.push("/login")}),[i]);return Object(ke.jsxs)(Ut,{children:[void 0===c?Object(ke.jsx)(Pt,{}):Object(ke.jsx)(ke.Fragment,{children:c.map((function(n){return Object(ke.jsx)(Rt,{socket:e,post:n},n._id)}))}),Object(ke.jsx)(Dt,{onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:"\u25b2"})]})},Gt=t(35),Xt=we.c.div(P||(P=Object(Te.a)(["\n  width: 100%;\n  height: 45px;\n  background-color: ",";\n  border-radius: 0 0 10px 10px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  margin-bottom: 1em;\n"])),(function(n){return n.theme.colors.cardBg})),Ht=we.c.div(U||(U=Object(Te.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  justify-content: space-evenly;\n  font-size: 1.5em;\n"]))),qt=(we.c.img(J||(J=Object(Te.a)([""]))),we.c.div(G||(G=Object(Te.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  cursor: pointer;\n"])))),Qt=we.c.img(X||(X=Object(Te.a)(["\n  height: 30px;\n  width: 30px;\n  margin: 0 1em;\n  border-radius: 50%;\n"]))),Wt=we.c.h3(H||(H=Object(Te.a)(["\n  transition: 0.2s ease color;\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.orangeBtn})),Yt=we.c.div(q||(q=Object(Te.a)(["\n  position: absolute;\n  top: 35px;\n  width: 100%;\n  height: auto;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 10px;\n  z-index: 10;\n"])),(function(n){return n.theme.colors.cardBg}),(function(n){return n.theme.colors.text})),Vt=Object(we.c)(Fe.b)(Q||(Q=Object(Te.a)(["\n  width: 100%;\n  display: block;\n  border-bottom: 1px solid ",";\n  padding: 0.5em;\n"])),(function(n){return n.theme.colors.heading})),Kt=we.c.span(W||(W=Object(Te.a)(["\n  width: 100%;\n  display: block;\n  color: ",";\n  transition: 0.2s ease color;\n  padding: 0.5em;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(n){return n.theme.colors.orangeBtn}),(function(n){return n.theme.colors.greenBtn})),Zt=we.c.div(Y||(Y=Object(Te.a)(["\n  width: 70px;\n  height: 30px;\n  border-radius: 15px;\n  border: 2px solid ",";\n  padding: 0.3em;\n"])),(function(n){return n.theme.colors.heading})),$t=we.c.div(V||(V=Object(Te.a)(["\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n"]))),nr=we.c.span(K||(K=Object(Te.a)(["\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background: ",";\n  position: absolute;\n  left: ",";\n  transform: ",";\n  z-index: 3;\n  transition: 0.3s ease all;\n"])),(function(n){return n.theme.colors.heading}),(function(n){return n.toggle?"100%":"0%"}),(function(n){return n.toggle?"translateX(-100%)":" translateX(0%)"})),er=we.c.div(Z||(Z=Object(Te.a)(["\n  position: fixed;\n  z-index: 10;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 30%;\n  display: flex;\n  align-items: center;\n  flex-direction: column-reverse;\n  background: ",";\n  transition: 0.3s ease all;\n  transform: ",";\n\n  @media (max-width: 526px) {\n    width: 60%;\n  }\n"])),(function(n){return n.theme.colors.cardBg}),(function(n){return n.hamburgerToggle?"translateX(0%)":"translateX(-100%)"})),tr=we.c.div($||($=Object(Te.a)(["\n  z-index: 10;\n  width: 33px;\n  height: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  position: relative;\n  transition: 0.3s ease all;\n  z-index: 20;\n\n  & span {\n    z-index: 10;\n    display: block;\n    width: 100%;\n    height: 2px;\n    background: ",";\n    transition: 0.3s ease all;\n    position: ",";\n  }\n\n  & span:nth-child(1) {\n    transform: ",";\n  }\n\n  & span:nth-child(3) {\n    transform: ",";\n  }\n\n  & span:nth-child(2) {\n    opacity: ",";\n    display: ",";\n  }\n"])),(function(n){return n.theme.colors.heading}),(function(n){return n.hamburgerToggle?"absolute":"static"}),(function(n){return n.hamburgerToggle?"rotate(45deg)":"rotate(0deg)"}),(function(n){return n.hamburgerToggle?"rotate(-45deg)":"rotate(0deg)"}),(function(n){return n.hamburgerToggle?"0":"1"}),(function(n){return n.hamburgerToggle?"none":"block"})),rr=we.c.div(nn||(nn=Object(Te.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  & > a {\n    font-size: 1.3em;\n    margin-right: 0.3em;\n    cursor: pointer;\n  }\n"]))),cr=we.c.span(en||(en=Object(Te.a)(["\n  position: relative;\n\n  & > span {\n    cursor: pointer;\n  }\n"]))),or=we.c.span(tn||(tn=Object(Te.a)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 0.7em;\n  top: -2px;\n  right: -2px;\n  background: ",";\n  color: ",";\n  width: 13px;\n  height: 13px;\n  border-radius: 50%;\n"])),(function(n){return n.theme.colors.redBtn}),(function(n){return n.theme.colors.heading})),ir=we.c.div(rn||(rn=Object(Te.a)(["\n  height: 20px;\n  width: 20px;\n  background: ",";\n  position: absolute;\n\n  clip-path: polygon(50% 0, 0 100%, 100% 100%);\n"])),(function(n){return n.theme.colors.text})),ar=we.c.div(cn||(cn=Object(Te.a)(["\n  position: absolute;\n  border-radius: 10px;\n  top: 33px;\n  width: 227px;\n  background-color: ",";\n  color: ",";\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.cardBg})),sr=we.c.div(on||(on=Object(Te.a)(["\n  padding: 0.3em;\n  height: auto;\n  max-height: 250px;\n  overflow-y: auto;\n"]))),ur=we.c.span(an||(an=Object(Te.a)(["\n  display: block;\n  cursor: pointer;\n  padding: 0.3em;\n  width: 100%;\n  text-align: center;\n  font-weight: bold;\n  border-radius: 0 0 10px 10px;\n  border-top: 2px solid ",";\n  background-color: ",";\n  color: ",";\n"])),(function(n){return n.theme.colors.cardBg}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.cardBg})),dr=function(n){var e=n.user,t=n.setThemes,r=n.themes,c=n.socket,o=Object(xe.useRef)(null),i=Object(xe.useState)(!1),a=Object(ve.a)(i,2),s=a[0],u=a[1],d=Object(xe.useState)(!1),l=Object(ve.a)(d,2),b=l[0],h=l[1],j=Object(xe.useState)(!1),p=Object(ve.a)(j,2),f=p[0],x=p[1],m=Object(xe.useRef)(null),O=Object(xe.useRef)(null),g=Object(xe.useState)(!1),v=Object(ve.a)(g,2),w=v[0],y=v[1],k=Object(xe.useState)([]),S=Object(ve.a)(k,2),C=S[0],B=S[1];Object(xe.useEffect)((function(){var n=function(n){m.current&&!m.current.contains(n.target)&&"A"!==n.target.tagName&&x(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[m]),Object(xe.useEffect)((function(){var n=function(n){O.current&&!O.current.contains(n.target)&&"sc-khQegj FpLmh"!==n.target.className&&y(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}),[O]);Object(xe.useEffect)((function(){var n=function(n){o.current&&!o.current.contains(n.target)&&u(!1)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}));Object(xe.useEffect)((function(){c.current.on("getNotification",(function(n){B((function(e){return[].concat(Object(Gt.a)(e),[n])}))}))}),[c,e]);return Object(ke.jsx)(Xt,{children:e?Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsxs)(tr,{onClick:function(){x(!f)},hamburgerToggle:f,ref:m,children:[Object(ke.jsx)("span",{}),Object(ke.jsx)("span",{}),Object(ke.jsx)("span",{})]}),Object(ke.jsxs)(qt,{onClick:function(){u(!s)},children:[Object(ke.jsx)(Wt,{children:e.user.username}),Object(ke.jsx)(Qt,{src:"https://avatars.dicebear.com/api/identicon/".concat(e.user.username,".svg")}),s?Object(ke.jsxs)(Yt,{ref:o,children:[Object(ke.jsx)(Vt,{to:"/profile/".concat(e.user.username,"/").concat(e.user._id),children:"Profile"}),Object(ke.jsx)(Kt,{onClick:function(){return localStorage.removeItem("user"),void window.location.reload()},children:"Sign Out"})]}):null]}),Object(ke.jsx)(er,{hamburgerToggle:f,children:Object(ke.jsxs)(Ht,{children:[Object(ke.jsx)(Fe.b,{onClick:function(){return x(!1)},to:"/",children:"Home"}),Object(ke.jsx)(Fe.b,{style:{margin:"0 1em"},to:"/about",onClick:function(){return x(!1)},children:"About"}),Object(ke.jsx)(Fe.b,{onClick:function(){return x(!1)},to:"/createPost",children:"Create a post"})]})}),Object(ke.jsxs)(rr,{children:[Object(ke.jsxs)(cr,{ref:O,onClick:function(){y(!w)},children:[Object(ke.jsx)("span",{children:" \ud83d\udd14"}),C.length>0&&Object(ke.jsx)(or,{children:C.length}),w?Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(ir,{}),Object(ke.jsxs)(ar,{children:[Object(ke.jsx)(sr,{children:C.map((function(n,e){return function(n,e){var t,r=n.senderName;return t=1===n.type?"liked":"disliked",Object(ke.jsx)("div",{children:"".concat(r," ").concat(t," your post.")},e)}(n,e)}))}),Object(ke.jsx)(ur,{onClick:function(){B([])},children:"Mark as Read"})]})]}):null]}),Object(ke.jsx)(Fe.b,{to:"/chat",children:"\ud83d\udcac"}),Object(ke.jsx)(Zt,{children:Object(ke.jsxs)($t,{onClick:function(){"light"===r?(t("dark"),localStorage.setItem("theme",JSON.stringify("dark"))):(t("light"),localStorage.setItem("theme",JSON.stringify("light"))),h(!b)},children:[Object(ke.jsx)("span",{children:"\ud83c\udf1e"}),Object(ke.jsx)("span",{children:"\ud83c\udf1b"}),Object(ke.jsx)(nr,{toggle:b})]})})]})]}):Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(Fe.b,{to:"/login",children:"Login"}),Object(ke.jsx)(Fe.b,{to:"/register",children:"Register"})]})})},lr=we.c.div(sn||(sn=Object(Te.a)(["\n  max-width: 1140px;\n  margin: 1em auto;\n  width: 100%;\n"]))),br=we.c.div(un||(un=Object(Te.a)(["\n  border-bottom: 1px solid ",";\n  margin-bottom: 1em;\n"])),(function(n){return n.theme.colors.heading})),hr=we.c.h1(dn||(dn=Object(Te.a)(["\n  color: ",";\n  margin-bottom: 1em;\n  width: 100%;\n"])),(function(n){return n.theme.colors.orangeBtn})),jr=we.c.div(ln||(ln=Object(Te.a)(["\n  width: 50%;\n\n  @media (max-width: 610px) {\n    width: 80%;\n  }\n\n  @media (max-width: 432px) {\n    width: 100%;\n  }\n"]))),pr=we.c.h4(bn||(bn=Object(Te.a)(["\n  font-weight: 400;\n  font-size: 1.5em;\n"]))),fr=we.c.div(hn||(hn=Object(Te.a)(["\n  padding: 1em;\n"]))),xr=(we.c.span(jn||(jn=Object(Te.a)(["\n  font-weight: 500;\n  color: ",";\n  display: inline;\n"])),(function(n){return n.theme.colors.heading})),we.c.div(pn||(pn=Object(Te.a)(["\n  border-top: 1px solid ",";\n  margin: 1em 0;\n"])),(function(n){return n.theme.colors.heading}))),mr=function(){var n=Object(xe.useContext)(Ce).user,e=Object(Ne.g)();return Object(xe.useEffect)((function(){n||e.push("/login")}),[n]),Object(ke.jsxs)(lr,{children:[Object(ke.jsx)(br,{children:Object(ke.jsx)(hr,{children:"ABOUT"})}),Object(ke.jsxs)(jr,{children:[Object(ke.jsx)(pr,{children:"F.A.Q:"}),Object(ke.jsxs)(fr,{children:[Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Question: "}),Object(ke.jsx)("p1",{children:"Can I sing up without my personal infomation?"}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Awnser: "}),Object(ke.jsx)("p1",{children:"Yea, just use something that looks like an email and use a random password, but remember that you can't recover it."}),Object(ke.jsx)("br",{}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Question: "}),Object(ke.jsx)("p1",{children:"What is this platform?"}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Awnser: "}),Object(ke.jsx)("p1",{children:"This is a personal project that replicates functionality of a social media."}),Object(ke.jsx)("br",{}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Question: "}),Object(ke.jsx)("p1",{children:"Is this project finished?"}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Awnser: "}),Object(ke.jsx)("p1",{children:"Main functionality is finished, there are a few things to tweak and fix, but yes, the majority is finished."})]})]}),Object(ke.jsxs)(xr,{children:[Object(ke.jsx)(hr,{style:{marginTop:"1em"},children:"Contact"}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Email: "}),Object(ke.jsx)("p1",{children:"alexloremipsum@gmail.com"}),Object(ke.jsx)("br",{}),Object(ke.jsx)("b",{children:"Github: "}),Object(ke.jsx)("p1",{children:"moki-moki"})]})]})},Or=we.c.footer(fn||(fn=Object(Te.a)(["\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  margin-top: 1em;\n  height: 45px;\n  background-color: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px 10px 0 0;\n"])),(function(n){return n.theme.colors.cardBg})),gr=we.c.p(xn||(xn=Object(Te.a)([""]))),vr=function(){var n=(new Date).getFullYear();return Object(ke.jsx)(Or,{children:Object(ke.jsxs)(gr,{children:["\xa9 ",n," Moki-Moki, All Rights Reserved"]})})},wr=function(){return Object(ke.jsx)(De,{children:Object(ke.jsx)(Pe,{children:"Your post was uploaded."})})},yr=we.c.div(mn||(mn=Object(Te.a)(["\n  max-width: 1140px;\n  width: 100%;\n  margin: 1em auto;\n  color: ",";\n"])),(function(n){return n.theme.colors.text})),kr=we.c.form(On||(On=Object(Te.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n"]))),Sr=we.c.input(gn||(gn=Object(Te.a)(["\n  padding: 1em;\n  margin: 0 0.3em;\n  background: none;\n  color: ",";\n"])),(function(n){return n.theme.colors.editBtn})),Cr=we.c.input(vn||(vn=Object(Te.a)(["\n  width: 60%;\n  padding: 1em;\n  color: ",";\n  background: none;\n  border: 1px solid ",";\n  border-radius: 15px;\n\n  @media (max-width: 600px) {\n    width: 80%;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.text})),Br=we.c.span(wn||(wn=Object(Te.a)(["\n  display: inline-block;\n  padding: 10% 0;\n"]))),Ir=we.c.span(yn||(yn=Object(Te.a)(["\n  display: inline-block;\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  border: 1px solid #fff;\n  transition: 0.2s ease all;\n\n  &:hover {\n    border-radius: 0;\n    border-color: ",";\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.colors.greenBtn})),Tr=we.c.button(kn||(kn=Object(Te.a)(["\n  background: none;\n  border: 1px solid ",";\n  border-radius: 20px;\n  padding: 1em;\n  color: ",";\n  transition: 0.2s ease all;\n\n  &:hover {\n    background: ",";\n    border-radius: 0;\n    cursor: pointer;\n  }\n"])),(function(n){return n.theme.colors.editBtn}),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.editBtn})),Er=we.c.div(Sn||(Sn=Object(Te.a)(["\n  max-width: 800px;\n  max-height: 800px;\n  text-align: center;\n"]))),_r=function(){var n=Object(xe.useState)(null),e=Object(ve.a)(n,2),t=e[0],r=e[1],c=Object(xe.useState)(!1),o=Object(ve.a)(c,2),i=o[0],a=o[1],s=Object(xe.useState)(!1),u=Object(ve.a)(s,2),d=u[0],l=u[1],b=Object(xe.useState)(!1),h=Object(ve.a)(b,2),j=h[0],p=h[1],f=Object(xe.useContext)(Ce).user,x=Object(xe.useRef)(),m=Object(Ne.g)();Object(xe.useEffect)((function(){f||m.push("/login")}),[f]);var O=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){var r,c,o;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),r={userId:f.user._id,desc:x.current.value},!t){n.next=17;break}return c=new FormData,o=Date.now()+t.name,c.append("name",o),c.append("file",t),r.img=o,n.prev=8,n.next=11,gt(c);case 11:n.next=17;break;case 13:n.prev=13,n.t0=n.catch(8),l(!0),console.log(n.t0);case 17:console.log(""!==r.desc),console.log(r.desc);try{""!==x.current.value?(vt(r.desc,r.img,r.userId),a(!0),setTimeout((function(){a(!1),m.push("/")}),3e3)):(p(!0),setTimeout((function(){p(!1)}),3e3))}catch(i){l(!0),console.log(i)}case 20:case"end":return n.stop()}}),n,null,[[8,13]])})));return function(e){return n.apply(this,arguments)}}();return Object(ke.jsx)(yr,{children:Object(ke.jsxs)(kr,{onSubmit:O,children:[Object(ke.jsx)(Cr,{placeholder:"Whats on your mind ?",ref:x}),Object(ke.jsx)("span",{style:{marginTop:"1em "},children:"Share Photo or a Video"}),Object(ke.jsxs)("label",{htmlFor:"file",style:{marginTop:"1em"},children:[Object(ke.jsx)("div",{style:{textAlign:"center"},children:Object(ke.jsx)(Ir,{children:Object(ke.jsx)(Br,{children:"+"})})}),Object(ke.jsx)(Sr,{type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(n){return r(n.target.files[0])}})]}),Object(ke.jsx)(Er,{children:t&&Object(ke.jsx)("img",{style:{margin:"1em 0",maxWidth:"100%",height:"90%"},src:URL.createObjectURL(t),alt:"img"})}),Object(ke.jsx)(Tr,{style:{marginTop:"1em"},type:"submit",children:"Share"}),i?Object(ke.jsx)(wr,{}):null,d?Object(ke.jsx)(Ue,{text:"Oops... Something went wrong."}):null,j?Object(ke.jsx)(Ue,{text:"You must type in something"}):null]})})},Fr=we.c.p(Cn||(Cn=Object(Te.a)(["\n  color: ",";\n  padding: 1em 1em;\n  transition: 0.3s ease all;\n  width: 100%;\n  display: inline-block;\n  border-radius: 10px;\n  word-break: break-word;\n  cursor: default;\n  &:hover {\n    color: ",";\n    background: rgba(255, 255, 255, 0.1);\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.heading})),Nr=function(n){var e=n.id,t=n.setOpenModal,r=n.openModal,c=n.postId;return Object(ke.jsx)(bt,{children:Object(ke.jsxs)(ht,{children:[Object(ke.jsx)(jt,{onClick:function(){t(!r)},children:"\u274c"}),Object(ke.jsx)("h1",{children:"Are you sure you want to delete this comment?"}),Object(ke.jsx)(ct,{onClick:function(){return function(n,e){yt(n,e)}(c,e)},children:"Delete \ud83d\udca9"})]})})},zr=function(n){var e=n.comment,t=Object(xe.useState)({}),r=Object(ve.a)(t,2),c=r[0],o=r[1],i=Object(xe.useState)(!1),a=Object(ve.a)(i,2),s=a[0],u=a[1],d=Object(xe.useContext)(Ce).user,l=Object(Ne.h)().id,b=e.user,h=e.text,j=e._id,p=e.date;Object(xe.useEffect)((function(){Ot(b).then((function(n){return o(n)}))}),[b]);return Object(ke.jsx)(ke.Fragment,{children:Object(ke.jsx)(Ye,{children:Object(ke.jsx)(Ve,{children:Object(ke.jsxs)(Ke,{children:[Object(ke.jsxs)(Ze,{children:[Object(ke.jsxs)($e,{to:"/profile/".concat(c.username,"/").concat(c._id),children:[Object(ke.jsx)(et,{src:"\nhttps://avatars.dicebear.com/api/identicon/".concat(c.username,".svg\n        ")}),Object(ke.jsx)(st,{children:c.username})]}),Object(ke.jsx)("div",{children:Object(ke.jsxs)("p",{children:["Posted At:",Object(ke.jsx)(st,{children:Lt()(p).format("DD MMM  HH:mm")})]})})]}),Object(ke.jsx)("div",{style:{width:"100%"},children:Object(ke.jsx)(Fr,{children:h})}),Object(ke.jsx)(tt,{children:Object(ke.jsxs)(rt,{children:[d.user._id===b?Object(ke.jsx)(ct,{onClick:function(){u(!s)},children:"\u274c"}):null,s?Object(ke.jsx)(Nr,{setOpenModal:u,openModal:s,id:j,postId:l}):null]})})]})})})})},Ar=function(n){var e=n.comments;return Object(ke.jsx)("div",{children:e.map((function(n){return Object(ke.jsx)(zr,{comment:n},n._id)}))})},Lr=we.c.form(Bn||(Bn=Object(Te.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 0.7em;\n"]))),Mr=we.c.input(In||(In=Object(Te.a)(["\n  padding: 0.5em 1em;\n  background: none;\n  border: 1px solid ",";\n  border-radius: 20px;\n  width: 100%;\n  color: ",";\n  outline: none;\n"])),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.text})),Rr=(we.c.button(Tn||(Tn=Object(Te.a)(["\n  font-size: 1em;\n  cursor: pointer;\n  padding: 0.5em;\n  background: none;\n  border: 1px solid ",";\n  transition: 0.2s ease all;\n  margin: 0 0.3em;\n  color: ",";\n\n  &:hover {\n    background: ",";\n    border-radius: 10px;\n  }\n"])),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.greenBtn})),function(n){var e=n.setShowInput,t=n.showInput,r=n.postId,c=n.userId,o=Object(xe.useState)(""),i=Object(ve.a)(o,2),a=i[0],s=i[1],u=Object(xe.useRef)();Object(xe.useEffect)((function(){var n=function(n){u.current.contains(n.target)||e(!t)};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}}));return Object(ke.jsx)("div",{ref:u,children:Object(ke.jsx)(Lr,{onSubmit:function(n){return function(n){n.preventDefault(),kt(r,a,c)}(n)},children:Object(ke.jsx)(Mr,{onChange:function(n){return s(n.target.value)},placeholder:"Type your comment here...",type:"text"})})})}),Dr=function(n){var e=n.socket,t=Object(Ne.h)().id,r=Object(xe.useContext)(Ce).user,c=Object(xe.useState)({}),o=Object(ve.a)(c,2),i=o[0],a=o[1],s=Object(xe.useState)({}),u=Object(ve.a)(s,2),d=u[0],l=u[1],b=Object(xe.useState)(),h=Object(ve.a)(b,2),j=h[0],p=h[1],f=Object(xe.useState)(),x=Object(ve.a)(f,2),m=x[0],O=x[1],g=Object(Ne.g)(),v=Object(xe.useState)(!1),w=Object(ve.a)(v,2),y=w[0],k=w[1],S=Object(xe.useState)(!1),C=Object(ve.a)(S,2),B=C[0],I=C[1];Object(xe.useEffect)((function(){var n=function(){var n=Object(Le.a)(Ae.a.mark((function n(){var e,r;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/posts/".concat(t));case 2:return e=n.sent,n.next=5,e.json();case 5:r=n.sent,a(r),p(r.likes),O(r.dislikes);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),Object(xe.useEffect)((function(){Ot(i.userId).then((function(n){return l(n)})),r||g.push("/login"),Ot()}),[i,t,r]);return Object(ke.jsxs)(ke.Fragment,{children:[m?Object(ke.jsxs)(Ye,{children:[Object(ke.jsx)(Ve,{children:Object(ke.jsxs)(Ke,{children:[Object(ke.jsx)(nt,{children:i.desc}),i.img?Object(ke.jsx)("img",{style:{margin:"1em 0",width:"100%"},src:"https://mokimoki-mern-social-media.herokuapp.com/images/".concat(i.img),alt:"alt"}):null,Object(ke.jsx)(Ze,{children:Object(ke.jsxs)($e,{to:"/profile/".concat(d.username,"/").concat(d._id),children:[Object(ke.jsx)(dt,{children:" Posted by: "}),Object(ke.jsx)(et,{src:"\nhttps://avatars.dicebear.com/api/identicon/".concat(d.username,".svg\n        ")}),Object(ke.jsx)(lt,{children:d.username})]})})]})}),Object(ke.jsxs)(tt,{children:[Object(ke.jsxs)(rt,{children:[Object(ke.jsx)(Mt,{socket:e,id:t,likeArr:j,dislikeArr:m}),Object(ke.jsx)(ut,{disabled:!0===B,onClick:function(){I(!B)},children:"\ud83d\udcac"})]}),r.user._id===i.userId?Object(ke.jsx)(ct,{onClick:function(){k(!y)},children:"\u274c"}):null]}),B?Object(ke.jsx)(Rr,{userId:r.user._id,postId:t,setShowInput:I,showInput:B}):null,y?Object(ke.jsx)(zt,{setOpenModal:k,openModal:y,id:i._id}):null]}):Object(ke.jsx)(Pt,{}),void 0===i.comments?null:Object(ke.jsx)(Ar,{comments:i.comments})]})},Pr=we.c.div(En||(En=Object(Te.a)(["\n  display: flex;\n  justify-content: center;\n\n  @media (max-width: 704px) {\n    width: 80%;\n    flex-direction: column;\n    margin: 0 auto;\n  }\n"]))),Ur=we.c.div(_n||(_n=Object(Te.a)(["\n  width: 36%;\n  border-radius: 10px;\n  background: ",";\n  padding: 0.5em;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  position: relative;\n\n  @media (max-width: 1092px) {\n    width: 40%;\n  }\n\n  @media (max-width: 910px) {\n    width: 60%;\n  }\n\n  @media (max-width: 704px) {\n    width: 100%;\n    border-radius: 10px 10px 0px 0px;\n  }\n\n  @media (max-width: 468px) {\n    grid-template-columns: repeat(1, 1fr);\n    justify-items: center;\n  }\n"])),(function(n){return n.theme.colors.cardBg})),Jr=we.c.div(Fn||(Fn=Object(Te.a)(["\n  width: 14%;\n  background: ",";\n  margin-left: 0.3em;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  padding: 0.5em;\n\n  @media (max-width: 1092px) {\n    width: 20%;\n  }\n\n  @media (max-width: 704px) {\n    width: 100%;\n    border-radius: 0px 0px 10px 0px;\n    margin-left: 0;\n  }\n"])),(function(n){return n.theme.colors.cardBg})),Gr=we.c.div(Nn||(Nn=Object(Te.a)(["\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 0.3em;\n  margin: 0.3em 0;\n  font-size: 1.2em;\n  cursor: pointer;\n  transition: 0.3s ease;\n  transition-property: color, border-radius;\n  text-align: center;\n  color: ",";\n\n  &:hover {\n    border-radius: 0;\n    color: ",";\n  }\n\n  @media (max-width: 530px) {\n    margin: 0.3em 0;\n  }\n"])),(function(n){return n.theme.colors.orangeBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.heading})),Xr=we.c.div(zn||(zn=Object(Te.a)(["\n  grid-column: 2/4;\n  position: relative;\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n\n  @media (max-width: 468px) {\n    grid-column: 1;\n  }\n"]))),Hr=we.c.div(An||(An=Object(Te.a)(["\n  position: relative;\n"]))),qr=we.c.div(Ln||(Ln=Object(Te.a)(["\n  position: relative;\n  border-radius: 50%;\n  width: 50%;\n"]))),Qr=we.c.img(Mn||(Mn=Object(Te.a)(["\n  height: 100px;\n  width: 100px;\n  border-radius: 50%;\n  margin: 0 5px;\n"]))),Wr=(we.c.div(Rn||(Rn=Object(Te.a)(["\n  grid-column: 2/4;\n"]))),we.c.div(Dn||(Dn=Object(Te.a)(["\n  margin-left: auto;\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 0.3em;\n  font-size: 1.2em;\n  width: max-content;\n  cursor: pointer;\n  transition: 0.3s ease border-radius;\n\n  &:hover {\n    border-radius: 0;\n  }\n\n  &:hover h5:nth-child(1) {\n    color: ",";\n  }\n\n  & h5:nth-child(1) {\n    transition: 0.3s ease color;\n    color: ",";\n  }\n\n  @media (max-width: 530px) {\n    margin: 0.3em 0;\n  }\n"])),(function(n){return n.theme.colors.orangeBtn}),(function(n){return n.theme.colors.heading}),(function(n){return n.theme.colors.text}))),Yr=we.c.div(Pn||(Pn=Object(Te.a)(["\n  display: flex;\n  align-items: center;\n  margin: 0.3em 0;\n\n  @media (max-width: 530px) {\n    flex-direction: column;\n    align-items: start;\n  }\n"]))),Vr=we.c.div(Un||(Un=Object(Te.a)(["\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 0.3em;\n  margin: 0.3em 0;\n  font-size: 1.2em;\n  cursor: pointer;\n  transition: 0.3s ease;\n  transition-property: color, border-radius;\n  text-align: center;\n  color: ",";\n\n  &:hover {\n    border-radius: 0;\n    color: ",";\n  }\n\n  @media (max-width: 530px) {\n    margin: 0.3em 0;\n  }\n"])),(function(n){return n.theme.colors.greenBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.heading})),Kr=we.c.div(Jn||(Jn=Object(Te.a)(["\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 0.3em;\n  margin: 0.3em 0;\n  font-size: 1.2em;\n  cursor: pointer;\n  transition: 0.3s ease;\n  transition-property: color, border-radius;\n  text-align: center;\n  color: ",";\n\n  &:hover {\n    border-radius: 0;\n    color: ",";\n  }\n\n  @media (max-width: 530px) {\n    margin: 0.3em 0;\n  }\n"])),(function(n){return n.theme.colors.redBtn}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.heading})),Zr=we.c.div(Gn||(Gn=Object(Te.a)(["\n  width: 100%;\n  background-color: ",";\n"])),(function(n){return n.theme.colors.cardBg})),$r=we.c.input(Xn||(Xn=Object(Te.a)(["\n  width: 100%;\n  border: 1px solid ",";\n  border-radius: 15px;\n  background: none;\n  padding: 0.3em;\n  color: ",";\n  outline: none;\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.text})),nc=we.c.div(Hn||(Hn=Object(Te.a)(["\n  position: absolute;\n  left: 90%;\n  bottom: 15%;\n  border: 1px solid ",";\n  border-radius: 10px;\n  padding: 0.3em;\n  font-size: 1.2em;\n  width: max-content;\n  cursor: pointer;\n  transition: 0.3s ease border-radius;\n\n  &:hover {\n    border-radius: 0;\n  }\n"])),(function(n){return n.theme.colors.orangeBtn})),ec=function(n){var e=n.id,t=Object(xe.useState)(""),r=Object(ve.a)(t,2),c=r[0],o=r[1],i=function(){var n=Object(Le.a)(Ae.a.mark((function n(t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.prev=1,n.next=4,St(c,e);case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}();return Object(ke.jsx)(Zr,{children:Object(ke.jsx)("form",{onSubmit:i,children:Object(ke.jsx)($r,{type:"text",minLength:"3",maxLength:"13",placeholder:"Change username...",onChange:function(n){return o(n.target.value)}})})})},tc=we.c.div(qn||(qn=Object(Te.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100vw;\n  height: 100vh;\n  background: rgba(0, 0, 0, 0.8);\n  z-index: 20;\n"]))),rc=we.c.div(Qn||(Qn=Object(Te.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 80%;\n  height: 80%;\n  border-radius: 10px;\n  background: ",";\n  padding: 1em;\n  z-index: 22;\n\n  @media (max-width: 752px) {\n    width: 95%;\n    height: 95%;\n  }\n"])),(function(n){return n.theme.colors.cardBg})),cc=we.c.div(Wn||(Wn=Object(Te.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),oc=we.c.div(Yn||(Yn=Object(Te.a)(["\n  display: flex;\n  justify-content: space-between;\n  transition: ease background-color 0.3s;\n  padding: 0.5em 0;\n  border-radius: 10px 10px 0 0;\n  border-bottom: 2px solid ",";\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.hoverOverlay})),ic=we.c.div(Vn||(Vn=Object(Te.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 10%;\n"]))),ac=we.c.img(Kn||(Kn=Object(Te.a)(["\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n"]))),sc=we.c.div(Zn||(Zn=Object(Te.a)(["\n  width: 100%;\n  border-bottom: 2px solid ",";\n  display: flex;\n  justify-content: flex-end;\n  padding: 0.3em 0;\n"])),(function(n){return n.theme.colors.text})),uc=function(n){var e=n.usersFriends,t=n.toggleFriends,r=n.setToggleFriends;return Object(ke.jsx)(tc,{children:Object(ke.jsxs)(rc,{children:[Object(ke.jsx)(sc,{children:Object(ke.jsx)(ct,{onClick:function(){return r(!t)},children:"\u274c"})}),Object(ke.jsx)(cc,{children:e.map((function(n){return Object(ke.jsx)(oc,{children:Object(ke.jsxs)(ic,{children:[Object(ke.jsx)(ac,{src:"https://avatars.dicebear.com/api/identicon/".concat(n.username,".svg")}),Object(ke.jsx)("h5",{children:n.username})]})},n._id)}))})]})})},dc=function(n){var e=n.name,t=n.id,r=n.userId,c=n.friends,o=Object(xe.useState)(!1),i=Object(ve.a)(o,2),a=i[0],s=i[1],u=Object(xe.useState)(!1),d=Object(ve.a)(u,2),l=d[0],b=d[1],h=Object(xe.useState)([]),j=Object(ve.a)(h,2),p=j[0],f=j[1],x=(Object(xe.useContext)(Ce).user,function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Bt(e,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),m=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,t){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,It(e,t);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),O=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(b(!l),0===c.length){n.next=4;break}return n.next=4,Ct(e).then((function(n){return f(n)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(ke.jsxs)(Pr,{children:[Object(ke.jsx)(Ur,{children:a?Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(ec,{id:t}),Object(ke.jsx)(nc,{onClick:function(){return s(!a)},children:Object(ke.jsx)("h5",{children:"\u274c"})})]}):Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(Hr,{children:Object(ke.jsx)(qr,{children:Object(ke.jsx)(Qr,{src:"\nhttps://avatars.dicebear.com/api/identicon/".concat(e,".svg\n                ")})})}),Object(ke.jsxs)(Xr,{children:[Object(ke.jsxs)("h3",{children:["Name: ",Object(ke.jsx)("span",{children:e})]}),Object(ke.jsx)(Yr,{children:r===t?Object(ke.jsx)(Wr,{onClick:function(){return s(!a)},children:Object(ke.jsx)("h5",{children:"Edit \ud83d\udd27"})}):null})]})]})}),Object(ke.jsxs)(Jr,{children:[Object(ke.jsxs)("p",{children:["Number of Friends: ",null===c||void 0===c?void 0:c.length]}),l?Object(ke.jsx)(Gr,{onClick:function(){return b(!l)},children:"Close Modal \u274c"}):Object(ke.jsx)(Gr,{onClick:function(){return O(t)},children:"View Friends \ud83d\udc40"}),r!==t?Object(ke.jsx)(ke.Fragment,{children:(null===c||void 0===c?void 0:c.includes(r))?Object(ke.jsx)(Kr,{onClick:function(){return m(t,r)},children:"Remove Friend \ud83d\ude25"}):Object(ke.jsx)(Vr,{onClick:function(){return x(t,r)},children:"Add a Friend \ud83d\ude0e"})}):null]}),l?Object(ke.jsx)(uc,{toggleFriends:l,setToggleFriends:b,usersFriends:p}):null]})},lc=function(n){var e=n.posts;return Object(ke.jsx)("div",{children:e.map((function(n){return Object(ke.jsx)(Rt,{post:n},n._id)}))})},bc=function(){var n=Object(Ne.h)(),e=n.username,t=n.id,r=Object(xe.useState)(),c=Object(ve.a)(r,2),o=c[0],i=c[1],a=Object(xe.useState)({}),s=Object(ve.a)(a,2),u=s[0],d=s[1],l=Object(xe.useContext)(Ce).user,b=Object(Ne.g)(),h=u.username,j=u.friends;return Object(xe.useEffect)((function(){l||b.push("/login");var n=function(){var n=Object(Le.a)(Ae.a.mark((function n(){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wt(e,t).then((function(n){return i(n)}));case 2:return n.next=4,Ot(t).then((function(n){return d(n)}));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[t,e,l]),Object(ke.jsx)(ke.Fragment,{children:void 0===o?Object(ke.jsx)(Pt,{}):Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)(dc,{id:t,userId:l.user._id,friends:j,name:h}),Object(ke.jsx)(lc,{id:t,posts:o})]})})},hc={light:{colors:{body:"#dbe1e8",text:"#454e56",heading:"#12181b",cardBg:"#fff",greenBtn:"#09c372",redBtn:"#ff3860",orangeBtn:"#fa8142",editBtn:"#9166cc",hoverOverlay:"rgba(33, 33, 33, 0.1)"}},dark:{colors:{body:"#12181b",text:"#b2becd",heading:"#fff",cardBg:"#2a2e35",greenBtn:"#09c372",redBtn:"#ff3860",orangeBtn:"#fa8142",editBtn:"#9166cc",hoverOverlay:"rgba(255, 255, 255, 0.1)"}},fonts:"Montserrat, sans-serif"},jc=we.c.div($n||($n=Object(Te.a)(["\n  display: flex;\n  justify-content: center;\n  height: 85vh;\n  margin-bottom: 1em;\n"]))),pc=we.c.div(ne||(ne=Object(Te.a)(["\n  position: relative;\n  background: ",";\n  height: 100%;\n  padding: 1em;\n  border-radius: 10px;\n  flex: 1;\n\n  @media (max-width: 1042px) {\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100vh;\n    width: 50%;\n    z-index: ",";\n\n    transform: ",";\n  }\n\n  @media (max-width: 490px) {\n    width: 80%;\n  }\n"])),(function(n){return n.theme.colors.cardBg}),(function(n){return n.toggle?"0":"20"}),(function(n){return n.toggle?"translateX(-100%)":"translateX(0)"})),fc=we.c.div(ee||(ee=Object(Te.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),xc=we.c.div(te||(te=Object(Te.a)(["\n  display: none;\n  position: ",";\n  top: 20%;\n  right: -30px;\n  color: red;\n  width: 35px;\n  height: 35px;\n  padding: ",";\n  border-radius: 0 10px 10px 0;\n  background: ",";\n  cursor: pointer;\n\n  @media (max-width: 1042px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"])),(function(n){return n.toggle?"absolute":"static"}),(function(n){return n.toggle?"1em":"none"}),(function(n){return n.theme.colors.cardBg})),mc=we.c.div(re||(re=Object(Te.a)(["\n  display: none;\n  position: ",";\n  top: 0;\n  left: -30px;\n  color: red;\n  width: 35px;\n  height: 35px;\n  padding: ",";\n  border-radius: 10px 0 0 10px;\n  background: ",";\n  cursor: pointer;\n\n  @media (max-width: 1042px) {\n    top: 20%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"])),(function(n){return n.toggle?"absolute":"static"}),(function(n){return n.toggle?"1em":"none"}),(function(n){return n.theme.colors.cardBg})),Oc=we.c.div(ce||(ce=Object(Te.a)(["\n  border-right: 2px solid ",";\n"])),(function(n){return n.theme.colors.hoverOverlay})),gc=we.c.div(oe||(oe=Object(Te.a)(["\n  padding: 0 1em;\n  display: flex;\n  flex-direction: column;\n  flex: 2;\n\n  @media (max-width: 1042px) {\n    padding: 0 2em;\n  }\n"]))),vc=we.c.div(ie||(ie=Object(Te.a)(["\n  border: 2px solid ",";\n  border-radius: 10px;\n  margin-bottom: 0.3em;\n  padding: 1em;\n  color: ",";\n  height: 100%;\n  overflow-y: auto;\n"])),(function(n){return n.theme.colors.hoverOverlay}),(function(n){return n.theme.colors.text})),wc=we.c.input(ae||(ae=Object(Te.a)(["\n  width: 100%;\n  background: none;\n  border-radius: 10px;\n  border: 2px solid ",";\n  color: ",";\n  padding: 1em;\n  outline: none;\n"])),(function(n){return n.theme.colors.hoverOverlay}),(function(n){return n.theme.colors.text})),yc=we.c.div(se||(se=Object(Te.a)(["\n  background: ",";\n  heigth: 100%;\n  padding: 1em;\n  border-radius: 10px;\n  flex: 1;\n\n  position: relative;\n\n  @media (max-width: 1042px) {\n    position: absolute;\n    top: 0;\n    right: 0;\n    height: 100vh;\n    width: 50%;\n    z-index: 20;\n\n    transform: ",";\n  }\n\n  @media (max-width: 490px) {\n    width: 80%;\n  } ;\n"])),(function(n){return n.theme.colors.cardBg}),(function(n){return n.toggle?"translateX(100%)":"translateX(0)"})),kc=we.c.div(ue||(ue=Object(Te.a)(["\n  border-left: 2px solid ",";\n"])),(function(n){return n.theme.colors.hoverOverlay})),Sc=we.c.div(de||(de=Object(Te.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  transition: 0.3s ease background-color;\n  padding: 0.3em;\n  border-radius: 10px;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  & span {\n    font-size: 1.3em;\n    color: ",";\n    margin: 1em 0.5em;\n  }\n"])),(function(n){return n.theme.colors.hoverOverlay}),(function(n){return n.theme.colors.heading})),Cc=we.c.img(le||(le=Object(Te.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n"]))),Bc=function(n){var e=n.con,t=n.id,r=Object(xe.useState)(null),c=Object(ve.a)(r,2),o=c[0],i=c[1];return Object(xe.useEffect)((function(){var n=e.members.find((function(n){return n!==t})),r=function(){var e=Object(Le.a)(Ae.a.mark((function e(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tt(n).then((function(n){return i(n)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r()}),[e,t]),Object(ke.jsxs)(Sc,{children:[Object(ke.jsx)(Cc,{src:"https://avatars.dicebear.com/api/identicon/".concat(null===o||void 0===o?void 0:o.username,".svg"),alt:""}),Object(ke.jsx)("span",{children:null===o||void 0===o?void 0:o.username})]})},Ic=we.c.div(be||(be=Object(Te.a)(["\n  display: flex;\n  flex-direction: ",";\n  margin: 0.5em 0;\n  overflow-wrap: anywhere;\n"])),(function(n){return n.self?"row-reverse":null})),Tc=we.c.div(he||(he=Object(Te.a)(["\n  display: flex;\n  align-items: center;\n  position: relative;\n  padding: 0.5em;\n  border-radius: 10px;\n  min-width: 100px;\n  background: ",";\n"])),(function(n){return n.theme.colors.hoverOverlay})),Ec=we.c.img(je||(je=Object(Te.a)(["\n  height: 25px;\n  width: 25px;\n  margin: 0.5em 0.3em;\n  border-radius: 50%;\n"]))),_c=we.c.p(pe||(pe=Object(Te.a)(["\n  position: absolute;\n  margin: 0.1em 0.5em;\n  top: 0;\n  right: 0;\n  font-size: 0.7em;\n  color: ",";\n"])),(function(n){return n.theme.colors.heading})),Fc=function(n){var e=n.text,t=n.senderId,r=n.id,c=n.stamp,o=Object(xe.useState)(null),i=Object(ve.a)(o,2),a=i[0],s=i[1];return Object(xe.useEffect)((function(){var n=function(){var n=Object(Le.a)(Ae.a.mark((function n(){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Tt(t).then((function(n){return s(n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),Object(ke.jsx)(Ic,{self:t===r,children:Object(ke.jsxs)(Tc,{children:[Object(ke.jsx)(Ec,{src:"https://avatars.dicebear.com/api/identicon/".concat(null===a||void 0===a?void 0:a.username,".svg")}),Object(ke.jsx)("p",{children:e}),Object(ke.jsx)(_c,{children:Lt()(c).format("LT")})]})})},Nc=function(n){var e=n.userId,t=n.setCurrentChat,r=n.onlineUsers,c=Object(xe.useState)([]),o=Object(ve.a)(c,2),i=o[0],a=o[1],s=Object(xe.useState)([]),u=Object(ve.a)(s,2),d=u[0],l=u[1];Object(xe.useEffect)((function(){var n=function(){var n=Object(Le.a)(Ae.a.mark((function n(e){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ct(e).then((function(n){return a(n)}));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();n(e)}),[e]),Object(xe.useEffect)((function(){l(i.filter((function(n){return r.includes(n._id)})))}),[i,r]);var b=function(){var n=Object(Le.a)(Ae.a.mark((function n(e,r){return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ft(e,r).then((function(n){return t(n)}));case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return Object(ke.jsx)("div",{children:d.map((function(n){return Object(ke.jsxs)(Sc,{onClick:function(){return b(n._id,e)},children:[Object(ke.jsx)(Cc,{src:"https://avatars.dicebear.com/api/identicon/".concat(n.username,".svg"),alt:""}),Object(ke.jsx)("span",{children:n.username})]},n.id)}))})},zc=function(n){var e=n.socket,t=Object(xe.useContext)(Ce).user,r=Object(xe.useState)([]),c=Object(ve.a)(r,2),o=c[0],i=c[1],a=Object(xe.useState)([]),s=Object(ve.a)(a,2),u=s[0],d=s[1],l=Object(xe.useState)(null),b=Object(ve.a)(l,2),h=b[0],j=b[1],p=Object(xe.useState)([]),f=Object(ve.a)(p,2),x=f[0],m=f[1],O=Object(xe.useRef)(),g=Object(xe.useState)(""),v=Object(ve.a)(g,2),w=v[0],y=v[1],k=Object(xe.useState)(null),S=Object(ve.a)(k,2),C=S[0],B=S[1],I=Object(xe.useState)(!0),T=Object(ve.a)(I,2),E=T[0],_=T[1],F=Object(xe.useState)(!0),N=Object(ve.a)(F,2),z=N[0],A=N[1];Object(xe.useEffect)((function(){e.current.on("getMessage",(function(n){B({sender:n.senderId,text:n.text,createdAt:Date.now()})}))}),[]),Object(xe.useEffect)((function(){e.current.emit("addUser",t.user._id,t.user.username),e.current.on("getUsers",(function(n){d(t.user.friends.filter((function(e){return n.some((function(n){return n.userId===e}))})))}));var n;n=t.user._id,Et(n).then((function(n){return i(n)}))}),[t]),Object(xe.useEffect)((function(){C&&(null===h||void 0===h?void 0:h.members.includes(C.sender))&&m((function(n){return[].concat(Object(Gt.a)(n),[C])}))}),[C,h]),Object(xe.useEffect)((function(){var n;n=null===h||void 0===h?void 0:h._id,_t(n).then((function(n){return m(n)}))}),[h]),Object(xe.useEffect)((function(){var n;null===(n=O.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})}),[x]);var L=function(){var n=Object(Le.a)(Ae.a.mark((function n(r){var c,o;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),c={sender:t.user._id,text:w,conversationId:h._id},o=h.members.find((function(n){return n!==t.user._id})),""===x){n.next=15;break}return e.current.emit("sendMessage",{senderId:t.user._id,receiverId:o,text:w}),n.prev=5,n.next=8,Nt(c).then((function(n){return m([].concat(Object(Gt.a)(x),[n]))}));case 8:return n.next=10,y("");case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(e){return n.apply(this,arguments)}}();return Object(ke.jsxs)(jc,{children:[Object(ke.jsx)(pc,{toggle:E,children:Object(ke.jsxs)(Oc,{children:[Object(ke.jsxs)(fc,{children:[Object(ke.jsx)("h1",{children:"Conversations"}),Object(ke.jsx)(xc,{toggle:E,onClick:function(){return _(!E)},children:"\u274c"})]}),Object(ke.jsx)("div",{children:null===o||void 0===o?void 0:o.map((function(n){return Object(ke.jsx)("div",{onClick:function(){return j(n)},children:Object(ke.jsx)(Bc,{con:n,id:t.user._id})},n._id)}))})]})}),h?Object(ke.jsxs)(gc,{children:[Object(ke.jsx)(vc,{children:x.map((function(n,e){return Object(ke.jsx)("div",{ref:O,children:Object(ke.jsx)(Fc,{stamp:n.createdAt,text:n.text,senderId:n.sender,id:t.user._id})},e)}))}),Object(ke.jsx)("form",{onSubmit:L,children:Object(ke.jsx)(wc,{placeholder:"Type message...",type:"text",value:w,onChange:function(n){return y(n.target.value)}})})]}):Object(ke.jsx)(gc,{}),Object(ke.jsx)(yc,{toggle:z,children:Object(ke.jsxs)(kc,{children:[Object(ke.jsxs)(fc,{children:[Object(ke.jsx)(mc,{toggle:z,onClick:function(){return A(!z)},children:"\u274c"}),Object(ke.jsx)("h1",{children:"Online User"})]}),Object(ke.jsx)(Nc,{userId:t.user._id,setCurrentChat:j,onlineUsers:u})]})})]})},Ac=we.c.div(fe||(fe=Object(Te.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 2em;\n  width: 100%;\n  text-align: center;\n"]))),Lc=function(){var n=Object(Ne.g)(),e=Object(xe.useContext)(Ce).user;return Object(xe.useEffect)((function(){e||n.push("/login")}),[]),Object(ke.jsx)(Ac,{children:Object(ke.jsx)("h1",{children:"404 NOT FOUND \ud83d\ude35"})})};var Mc=function(){var n=Object(xe.useContext)(Ce).user,e=Object(xe.useState)(JSON.parse(localStorage.getItem("theme"))||"dark"),t=Object(ve.a)(e,2),r=t[0],c=t[1],o=Object(xe.useRef)();return o.current=Object(Ie.a)("ws://localhost:5000"),Object(xe.useEffect)((function(){o.current.emit("getUser",n),o.current.emit("addUser",null===n||void 0===n?void 0:n.user._id,null===n||void 0===n?void 0:n.user.username)}),[n]),Object(ke.jsx)(Fe.a,{children:Object(ke.jsxs)(we.a,{theme:hc[r],children:[Object(ke.jsx)(_e,{}),Object(ke.jsx)(dr,{socket:o,themes:r,setThemes:c,user:n}),Object(ke.jsxs)(Ne.d,{children:[Object(ke.jsx)(Ne.b,{exact:!0,path:"/",children:Object(ke.jsx)(Jt,{socket:o})}),Object(ke.jsx)(Ne.b,{path:"/login",children:n?Object(ke.jsx)(Ne.a,{to:"/"}):Object(ke.jsx)(Qe,{})}),Object(ke.jsx)(Ne.b,{path:"/register",children:n?Object(ke.jsx)(Ne.a,{to:"/"}):Object(ke.jsx)(We,{})}),Object(ke.jsx)(Ne.b,{path:"/about",children:Object(ke.jsx)(mr,{})}),Object(ke.jsx)(Ne.b,{path:"/createPost",children:Object(ke.jsx)(_r,{})}),Object(ke.jsx)(Ne.b,{path:"/posts/:id",children:Object(ke.jsx)(Dr,{socket:o})}),Object(ke.jsx)(Ne.b,{path:"/profile/:username/:id",children:Object(ke.jsx)(bc,{})}),Object(ke.jsx)(Ne.b,{path:"/chat",children:n?Object(ke.jsx)(zc,{socket:o}):Object(ke.jsx)(Ne.a,{to:"/login"})}),Object(ke.jsx)(Ne.b,{path:"*",children:Object(ke.jsx)(Lc,{})})]}),Object(ke.jsx)(vr,{})]})})};ge.a.render(Object(ke.jsx)(me.a.StrictMode,{children:Object(ke.jsx)(Be,{children:Object(ke.jsx)(Mc,{})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.5942bcf2.chunk.js.map