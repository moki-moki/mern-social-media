{"version":3,"sources":["components/context/AuthReducer.js","components/context/AuthContext.js","components/styles/GlobalStyles.js","components/auth/apiCalls.js","components/styles/NotificationStyles/NotificationFailStyles.js","components/styles/NotificationStyles/NotificationSuccess.js","components/NotificationFail.js","components/styles/FormStyles.js","components/LoginLayout.js","components/RegisterLayout.js","components/styles/PostCardStyles.js","components/styles/SinglePostStyles.js","components/styles/DeleteModalStyles/DeleteModalStyles.js","components/utils/apiHelpers.js","components/DeletePostModal.js","components/LikeDislike.js","components/Post.js","components/styles/BackToTopBtnStyles.js","components/Loader.js","components/styles/HomepageStyles.js","components/HomepageLayout.js","components/styles/NavbarStyles.js","components/Navbar.js","components/styles/AboutStyles.js","components/About.js","components/styles/FooterStyles.js","components/Footer.js","components/NotificationSuccess.js","components/styles/CreatePostStyles.js","components/CreatePost.js","components/styles/CommentStyles/CommentStyles.js","components/DeleteCommentModel.js","components/Comment.js","components/Comments.js","components/styles/CommentInputStyles/CommentInputStyle.js","components/CommentInput.js","components/SinglePost.js","components/styles/ProfileStyles/ProfileStyles.js","components/styles/ProfileStyles/ProfileEditModalStyles.js","components/ProfileEditModal.js","components/styles/ProfileStyles/FriendsModalStyles.js","components/FriendsModal.js","components/ProfileInfo.js","components/ProfilePosts.js","components/Profile.js","components/styles/theme.js","components/styles/ChatwindowStyles/ChatWindowStyles.js","components/styles/ConversationStyles/ConversationStyles.js","components/Conversation.js","components/styles/MessageStyles/MessageStyles.js","components/Message.js","components/OnlineUsersComp.js","components/ChatWindow.js","components/styles/NotFoundStyles/NotFoundStyles.js","components/NotFound.js","App.js","index.js"],"names":["AuthReducer","state","action","type","user","loading","error","payload","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","GlobalStyles","createGlobalStyle","theme","colors","body","heading","text","orangeBtn","greenBtn","loginCall","a","email","password","myInit","method","headers","fetch","res","json","data","NotificationFailContainer","styled","div","redBtn","NotificationSuccessContainer","p","NotificationSuccessText","NotificationFail","FormControl","form","Input","input","FormButton","button","Labels","label","SpanForm","span","LoginLayout","useRef","useContext","history","useHistory","push","handleLogin","e","preventDefault","current","console","log","onSubmit","placeholder","required","ref","minLength","to","RegisterLayout","username","useState","err","setErr","registerHandler","req","token","htmlFor","id","PostCardContainer","cardBg","PostCardContentContainer","PostCardUserContainer","PostCardWrapper","PostCardUserInfo","Link","hoverOverlay","PostCardDesc","PostCardUserImg","img","PostCardBottomBar","PostCardBtnContainer","PostCardButtonDelete","editBtn","PostCardButtonsDislike","isDisliked","PostCardButtonsLike","isLiked","PostCardLink","PostCardHeader","SinglePostCommentBtn","SinglePostPostedBy","SinglePostUsername","DeleteModalMainContainer","DeleteModalContainer","Close","getPosts","likeHelper","dislikeHelper","deletePostHelper","fetchPostData","userId","uploadPost","createPost","desc","fetchProfileData","deleteCommentHelper","postId","window","location","reload","postComment","editProfile","name","removeItem","getFriends","addFriend","removeFriend","getUserData","getConversation","getMessages","findConvo","friendId","sendMsg","DeletePostModal","setOpenModal","openModal","deletePost","pathname","onClick","style","padding","LikeDislike","likeArr","dislikeArr","userPost","socket","length","like","setLike","dislike","setDislike","isDislike","setIsDislike","setIsLiked","_id","includes","dislikeHandle","emit","senderName","receiverName","Post","post","setUserPost","then","src","moment","createdAt","format","width","alt","likes","dislikes","postUserId","comments","BtnArrowUp","Loader","skBounce","keyframes","LoaderContainer","LoaderBubble","MainHomeContainer","HomepageLayout","posts","setPosts","sort","p1","p2","Date","undefined","map","scrollTo","top","behavior","NavbarContainer","NavLeftSide","NavUserContainer","NavUserImg","NavUsername","h3","NavDropdownCotnainer","NavbarDropdownLink","NavbarDropdownSignOut","ToggleContainer","ToggleItemWrapper","ToggleBtn","toggle","NavItemWrapper","hamburgerToggle","HamburgerContainer","AdditionWrapper","NotificationContainer","NotificationNumber","NotificationArrow","NotificationTextContainer","NotificationMessagesContainer","NotificationMarkAsRead","Navbar","setThemes","themes","navRef","menu","setMenu","setToggle","toggleHamburger","setToggleHamburger","hamburgerRef","notifyRef","notifyMenu","setNotifyMenu","notifications","setNotifications","closeHamburgerMenu","contains","target","tagName","document","addEventListener","removeEventListener","closeNotification","className","closeNavDropdown","on","prev","margin","notify","idx","displayNotification","AboutMainContainer","AboutHeadingWrapper","AboutHeading","h1","FaqContainer","FaqHeading","h4","FaqQuestionsContainer","AboutContactContainer","About","marginTop","FooterStyle","footer","FooterText","Footer","getYear","getFullYear","NotificationSuccess","ShareContainer","ShareForm","FormInputUpload","FormInput","FormPlus","FormPlustBorder","FormBtnSubmit","UploadImageContainer","CreatePost","fileName","setFileName","showNotification","setShowNotification","showNotificationError","setShowNotificationError","sharePostError","setSharePostError","submitHandler","newPost","FormData","fileNameStored","now","append","setTimeout","textAlign","accept","onChange","files","maxWidth","height","URL","createObjectURL","DeleteCommentModal","deleteComment","Comment","comment","userData","setUserData","useParams","date","Comments","CommentInputContainer","CommentInputForm","CommentInput","setShowInput","showInput","inputText","setInputText","inputRef","closeInput","handleSubmit","SinglePost","postData","setPostData","getData","disabled","ProfileCardMainContainer","ProfileCardContainer","ProfileFriendContainer","ViewFriendsBtn","ProfileInfoContainer","ProfilePictureContainer","ProfilePictureWrapper","ProfilePicture","EditBtn","ProfileBtns","AddFriendBtn","RemoveFriendBtn","ModalContainer","ModalInput","CloseBtn","ProfileEditModal","setName","maxLength","ModalOverlay","FriendsModalMainContainer","FriendsContainer","FriendContainer","FriendNameAndImageContainer","FriendImage","ModalCloseContainer","FriendsModal","usersFriends","toggleFriends","setToggleFriends","friend","ProfileInfo","friends","toggleEdit","setToggleEdit","setUsersFriends","addFriendHandler","removeFriendHandler","friendsHandlerModal","ProfilePosts","Profile","info","setInfo","light","dark","fonts","MainWindowContainer","FriendListContainer","ConvoHeadingContainer","OpenCloseBtn","OpenCloseOnlineFriends","FriendListWrapper","ChatBoxContainer","ChatBoxMessageBox","ChatBoxInput","OnlineUsers","OnlineUsersWrapper","ConversationMainContainer","ConversationImg","Conversation","con","setUser","members","find","m","getUser","MessageContainer","self","UserContainer","MessageImg","MsgStamp","Message","senderId","stamp","OnlineUsersComp","setCurrentChat","onlineUsers","setFriends","onlineFriends","setOnlineFriends","getUsersFriends","filter","f","findConversation","onlineFriend","ChatWindow","conversations","setConversations","setOnlineUsers","currentChat","messages","setMessages","scrollRef","inputMessage","setInputMessage","arrivalMsg","setArrivalMsg","toggleConversation","setToggleConversation","toggleOnlineFriends","setToggleOnlineFriends","sender","users","some","u","scrollIntoView","message","conversationId","receiverId","member","conversation","msg","i","NotFoundContainer","NotFound","App","io","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5942bcf2.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOGIN_START\":\r\n      return {\r\n        user: null,\r\n        loading: true,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_SUCCESS\":\r\n      return {\r\n        user: action.payload,\r\n        loading: false,\r\n        error: false,\r\n      };\r\n    case \"LOGIN_FAIL\":\r\n      return {\r\n        user: null,\r\n        loading: false,\r\n        error: true,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default AuthReducer;\r\n","import { createContext, useEffect, useReducer } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\n\r\nconst INITIAL_STATE = {\r\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\r\n  loading: false,\r\n  error: false,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\r\n  }, [state.user]);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user: state.user,\r\n        loading: state.loading,\r\n        error: state.error,\r\n        dispatch,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n","import { createGlobalStyle } from \"styled-components\";\r\nconst GlobalStyles = createGlobalStyle`\r\n@import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');\r\n\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n}\r\nbody {\r\n    background: ${({ theme }) => theme.colors.body};\r\n    font-family: \"Montserrat\", sans-serif;\r\n    line-height: 1.5;\r\n    position: relative;\r\n    min-height: 100vh;\r\n    padding-bottom: 45px;\r\n    overflow-x: hidden;\r\n}\r\n\r\nh1, h2, h3, h4, h5 {\r\n    color: ${({ theme }) => theme.colors.heading};\r\n}\r\n\r\np {\r\n    color: ${({ theme }) => theme.colors.text}\r\n}\r\n\r\nli {\r\n    list-style: none;\r\n}\r\n\r\na {\r\n    text-decoration: none;\r\n    color ${({ theme }) => theme.colors.orangeBtn};\r\n    transition: 0.2s ease all;\r\n}\r\n\r\na:hover {\r\n    color: ${({ theme }) => theme.colors.greenBtn};\r\n}\r\n\r\ninput[type='file'] {\r\ndisplay: none;\r\n}\r\n\r\np1 {\r\n    color: ${({ theme }) => theme.colors.text}\r\n}\r\n\r\nb {\r\n    color: ${({ theme }) => theme.colors.heading};\r\n    font-weight: bold;\r\n}\r\n\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","export const loginCall = async ({ email, password }, dispatch) => {\r\n  dispatch({ type: \"LOGIN_START\" });\r\n\r\n  const myInit = {\r\n    method: \"POST\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      email: email,\r\n      password: password,\r\n    }),\r\n  };\r\n\r\n  try {\r\n    const res = await fetch(\"/api/auth/login\", myInit);\r\n    const data = await res.json();\r\n\r\n    await dispatch({ type: \"LOGIN_SUCCESS\", payload: data });\r\n  } catch (error) {\r\n    dispatch({ type: \"LOGIN_FAIL\", payload: error });\r\n  }\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport const NotificationFailContainer = styled.div`\r\n  position: fixed;\r\n  top: 85%;\r\n  left: -100%;\r\n  background-color: ${({ theme }) => theme.colors.body};\r\n  border: 2px solid ${({ theme }) => theme.colors.redBtn};\r\n  border-radius: 10px;\r\n  animation: enter-leave 3s ease;\r\n\r\n  &::after {\r\n    content: \"\";\r\n    display: block;\r\n    position: relative;\r\n    top: 2px;\r\n    left: 7px;\r\n    width: 0;\r\n    height: 2px;\r\n    background: ${({ theme }) => theme.colors.heading};\r\n    border-radius: 10px;\r\n    animation: loading 3s ease;\r\n  }\r\n\r\n  @keyframes loading {\r\n    0% {\r\n      width: 0%;\r\n    }\r\n    100% {\r\n      width: 95%;\r\n    }\r\n  }\r\n\r\n  @keyframes enter-leave {\r\n    0% {\r\n      left: -260px;\r\n      display: block;\r\n    }\r\n    7.5% {\r\n      left: 15px;\r\n      display: block;\r\n    }\r\n    92.5% {\r\n      left: 15px;\r\n      display: block;\r\n    }\r\n    100% {\r\n      left: -360px;\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NotificationSuccessText = styled.p`\r\n  padding: 0.6em;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const NotificationSuccessContainer = styled.div`\r\n  position: fixed;\r\n  top: 85%;\r\n  left: -100%;\r\n  background-color: ${({ theme }) => theme.colors.body};\r\n  border: 2px solid ${({ theme }) => theme.colors.greenBtn};\r\n  border-radius: 10px;\r\n  animation: enter-leave 3s ease;\r\n\r\n  &::after {\r\n    content: \"\";\r\n    display: block;\r\n    position: relative;\r\n    top: 2px;\r\n    left: 7px;\r\n    width: 0;\r\n    height: 2px;\r\n    background: ${({ theme }) => theme.colors.heading};\r\n    border-radius: 10px;\r\n    animation: loading 3s ease;\r\n  }\r\n\r\n  @keyframes loading {\r\n    0% {\r\n      width: 0%;\r\n    }\r\n    100% {\r\n      width: 95%;\r\n    }\r\n  }\r\n\r\n  @keyframes enter-leave {\r\n    0% {\r\n      left: -260px;\r\n      display: block;\r\n    }\r\n    7.5% {\r\n      left: 15px;\r\n      display: block;\r\n    }\r\n    92.5% {\r\n      left: 15px;\r\n      display: block;\r\n    }\r\n    100% {\r\n      left: -360px;\r\n      display: block;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const NotificationSuccessText = styled.p`\r\n  padding: 0.6em;\r\n`;\r\n","import { NotificationFailContainer } from \"./styles/NotificationStyles/NotificationFailStyles\";\r\nimport { NotificationSuccessText } from \"./styles/NotificationStyles/NotificationSuccess\";\r\n\r\nconst NotificationFail = ({ text }) => {\r\n  return (\r\n    <NotificationFailContainer>\r\n      <NotificationSuccessText>{text}</NotificationSuccessText>\r\n    </NotificationFailContainer>\r\n  );\r\n};\r\n\r\nexport default NotificationFail;\r\n","import styled from \"styled-components\";\r\n\r\nexport const FormControl = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  color: ${({ theme }) => theme.colors.text};\r\n  background: none;\r\n  border: none;\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.text};\r\n  margin: 1em 0;\r\n  padding: 1em;\r\n  width: 60%;\r\n  transition: 0.2s ease all;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-bottom-color: ${({ theme }) => theme.colors.greenBtn};\r\n  }\r\n\r\n  &:invalid {\r\n    border-bottom-color: ${({ theme }) => theme.colors.redBtn};\r\n  }\r\n\r\n  @media (max-width: 740px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nexport const FormButton = styled.button`\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  border: 1px solid ${({ theme }) => theme.colors.greenBtn};\r\n  background: none;\r\n  padding: 1em;\r\n  width: 10%;\r\n  font-size: 1em;\r\n  transition: 0.2s ease all;\r\n  margin: 1em 0;\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.greenBtn};\r\n    border-radius: 15px;\r\n  }\r\n\r\n  @media (max-width: 740px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nexport const Labels = styled.label`\r\n  width: 60%;\r\n  display: flex;\r\n  align-items: flex-start;\r\n  color: ${({ theme }) => theme.colors.heading};\r\n`;\r\n\r\nexport const SpanForm = styled.span`\r\n  color: ${({ theme }) => theme.colors.text};\r\n`;\r\n","import { useContext, useEffect, useRef } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { loginCall } from \"./auth/apiCalls\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport NotificationFail from \"./NotificationFail\";\r\nimport { FormButton, FormControl, Input, SpanForm } from \"./styles/FormStyles\";\r\n\r\nconst LoginLayout = () => {\r\n  const password = useRef();\r\n  const email = useRef();\r\n  const { user, error, dispatch } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(\"/\");\r\n    }\r\n  }, []);\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await loginCall(\r\n        {\r\n          email: email.current.value,\r\n          password: password.current.value,\r\n        },\r\n        dispatch\r\n      );\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FormControl onSubmit={(e) => handleLogin(e)}>\r\n        <Input placeholder=\"Email\" type=\"email\" required ref={email} />\r\n\r\n        <Input\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          required\r\n          minLength=\"6\"\r\n          ref={password}\r\n        />\r\n        <FormButton type=\"submit\">LOGIN</FormButton>\r\n        <SpanForm>\r\n          Don't have an account? <Link to=\"/register\">Register</Link>\r\n        </SpanForm>\r\n      </FormControl>\r\n      {error ? <NotificationFail text={\"Wrong Credentials...\"} /> : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginLayout;\r\n","import { useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  FormButton,\r\n  FormControl,\r\n  Input,\r\n  Labels,\r\n  SpanForm,\r\n} from \"./styles/FormStyles\";\r\nimport { useHistory } from \"react-router\";\r\nimport NotificationFail from \"./NotificationFail\";\r\n\r\nconst RegisterLayout = () => {\r\n  const username = useRef();\r\n  const password = useRef();\r\n  const email = useRef();\r\n  const history = useHistory();\r\n\r\n  const [err, setErr] = useState(false);\r\n\r\n  const registerHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const myInit = {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        username: username.current.value,\r\n        email: email.current.value,\r\n        password: password.current.value,\r\n      }),\r\n    };\r\n\r\n    try {\r\n      const req = await fetch(\"/api/auth/register\", myInit);\r\n      const data = await req.json();\r\n\r\n      localStorage.setItem(\"authToken\", data.token);\r\n      history.push(\"/\");\r\n    } catch (error) {\r\n      console.log(error);\r\n      setErr(!err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <FormControl onSubmit={registerHandler}>\r\n        <h2>REGISTER</h2>\r\n        <Labels htmlFor=\"name\">Username</Labels>\r\n        <Input\r\n          type=\"text\"\r\n          required\r\n          id=\"name\"\r\n          placeholder=\"username\"\r\n          ref={username}\r\n        />\r\n        <Labels htmlFor=\"email\">Email</Labels>\r\n        <Input\r\n          type=\"text\"\r\n          required\r\n          id=\"email\"\r\n          placeholder=\"email\"\r\n          ref={email}\r\n        />\r\n        <Labels htmlFor=\"password\">Password</Labels>\r\n        <Input\r\n          type=\"password\"\r\n          required\r\n          minLength=\"6\"\r\n          id=\"password\"\r\n          placeholder=\"password\"\r\n          ref={password}\r\n        />\r\n        <FormButton type=\"submit\">Register</FormButton>\r\n        <SpanForm>\r\n          Already have an account? <Link to=\"/login\">Login</Link>\r\n        </SpanForm>\r\n      </FormControl>\r\n      {err ? (\r\n        <NotificationFail text={\"Try different Username or Email...\"} />\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegisterLayout;\r\n","import { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nexport const PostCardContainer = styled.div`\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  margin: 0 auto;\r\n  width: 50%;\r\n  height: 100%;\r\n  border-radius: 15px;\r\n\r\n  @media (max-width: 910px) {\r\n    width: 80%;\r\n  }\r\n\r\n  @media (max-width: 590px) {\r\n    width: 90%;\r\n  }\r\n`;\r\n\r\nexport const PostCardContentContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  margin: 2em 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const PostCardUserContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  width: 100%;\r\n`;\r\n\r\nexport const PostCardWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n  margin: 1em 0;\r\n  padding: 0 1em;\r\n  transition: 0.2s ease background;\r\n`;\r\n\r\nexport const PostCardUserInfo = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0.3em;\r\n  border-radius: 10px;\r\n  transition: 0.2s ease all;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.heading};\r\n    background: ${({ theme }) => theme.colors.hoverOverlay};\r\n  }\r\n`;\r\n\r\nexport const PostCardProfileLink = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const PostCardDesc = styled.p`\r\n  color: ${({ theme }) => theme.colors.text};\r\n  font-size: 1.3em;\r\n  margin: 1em 0;\r\n  padding: 0 1em;\r\n  width: 100%;\r\n  transition: 0.2s ease background;\r\n`;\r\n\r\nexport const PostCardUserImg = styled.img`\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 15px;\r\n  margin: 0 5px;\r\n`;\r\n\r\nexport const PostCardBottomBar = styled.div`\r\n  padding: 0.5em;\r\n  width: 100%;\r\n  border-top: 1px solid ${({ theme }) => theme.colors.heading};\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: flex-start;\r\n`;\r\n\r\nexport const PostCardBtnContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const PostCardButtonDelete = styled.button`\r\n  background: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.editBtn};\r\n  padding: 0.2em;\r\n  font-size: 1.5em;\r\n  transition: 0.2s ease all;\r\n  cursor: pointer;\r\n  color: ${({ theme }) => theme.colors.text};\r\n  &:hover {\r\n    border-radius: 10px;\r\n    background: ${({ theme }) => theme.colors.editBtn};\r\n  }\r\n  &:active {\r\n    background: ${({ theme }) => theme.colors.editBtn};\r\n  }\r\n\r\n  &:focus {\r\n    background: ${({ theme }) => theme.colors.editBtn};\r\n  }\r\n`;\r\n\r\nexport const PostCardButtonsDislike = styled.button`\r\n  font-size: 1.5em;\r\n  cursor: pointer;\r\n  padding: 0.2em;\r\n  background: ${({ isDisliked }) => (isDisliked ? \"#ff3860\" : \"none\")};\r\n  border: 1px solid ${({ theme }) => theme.colors.redBtn};\r\n  transition: 0.2s ease all;\r\n  margin: 0 0.3em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.redBtn};\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nexport const PostCardButtonsLike = styled.button`\r\n  font-size: 1.5em;\r\n  cursor: pointer;\r\n  padding: 0.2em;\r\n  background: ${({ isLiked }) => (isLiked ? \"#09c372\" : \"none\")};\r\n  border: 1px solid ${({ theme }) => theme.colors.greenBtn};\r\n  transition: 0.2s ease all;\r\n  margin: 0 0.3em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.greenBtn};\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nexport const PostCardLink = styled(Link)`\r\n  color: ${({ theme }) => theme.colors.text};\r\n  padding: 0.2em;\r\n  transition: 0.3s ease all;\r\n  width: 100%;\r\n  display: inline-block;\r\n  border-radius: 10px;\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.heading};\r\n    background: ${({ theme }) => theme.colors.hoverOverlay};\r\n  }\r\n`;\r\n\r\nexport const PostCardDescContainer = styled.p`\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.hoverOverlay};\r\n    transition: 0.2s ease background;\r\n  }\r\n`;\r\n\r\nexport const PostCardHeader = styled.span`\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  margin: 0 0.3em;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const SinglePostCommentBtn = styled.button`\r\n  font-size: 1.5em;\r\n  cursor: pointer;\r\n  padding: 0.2em;\r\n  background: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.text};\r\n  transition: 0.2s ease all;\r\n  margin: 0 0.3em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n\r\nexport const SinglePostPostedBy = styled.span`\r\n  color: ${({ theme }) => theme.colors.heading};\r\n`;\r\n\r\nexport const SinglePostUsername = styled.p`\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  font-weight: bold;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const DeleteModalMainContainer = styled.div`\r\n  position: fixed;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgb(0, 0, 0, 0.5);\r\n  top: 0;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 3;\r\n`;\r\n\r\nexport const DeleteModalContainer = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  height: 60vh;\r\n  width: 70%;\r\n  margin: 0 auto;\r\n  background: ${({ theme }) => theme.colors.body};\r\n  border: 3px solid ${({ theme }) => theme.colors.editBtn};\r\n  border-radius: 10px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  padding: 0.5em;\r\n\r\n  @media (max-width: 834px) {\r\n    width: 90%;\r\n    height: 70vh;\r\n  }\r\n`;\r\n\r\nexport const Close = styled.span`\r\n  position: absolute;\r\n  top: 4%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  margin: 1em;\r\n  padding: 0.3em;\r\n  border: 1px solid ${({ theme }) => theme.colors.editBtn};\r\n  cursor: pointer;\r\n  transition: 0.3s ease all;\r\n\r\n  &:hover {\r\n    border-radius: 10px;\r\n    background: ${({ theme }) => theme.colors.editBtn};\r\n  }\r\n`;\r\n","// Gets all posts\r\nexport const getPosts = async () => {\r\n  try {\r\n    const req = await fetch(\"/api/posts/\");\r\n    return await req.json();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Likes post\r\nexport const likeHelper = async (id, myInit) => {\r\n  try {\r\n    return await fetch(`/api/posts/${id}/like`, myInit);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Dislikes post\r\nexport const dislikeHelper = async (id, myInit) => {\r\n  try {\r\n    return await fetch(`/api/posts/${id}/dislike`, myInit);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Deletes post\r\nexport const deletePostHelper = async (id) => {\r\n  try {\r\n    await fetch(`/api/posts/${id}`, {\r\n      method: \"DELETE\",\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Gets single post data\r\nexport const fetchPostData = async (userId) => {\r\n  const req = await fetch(`/api/user?userId=${userId}`);\r\n  return await req.json();\r\n};\r\n\r\n// Upload post\r\nexport const uploadPost = async (data) => {\r\n  try {\r\n    const req = await fetch(\"/api/upload\", {\r\n      method: \"POST\",\r\n      body: data,\r\n    });\r\n    return await req.json();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Creates Post for uploading\r\nexport const createPost = async (desc, img, id) => {\r\n  try {\r\n    await fetch(\"/api/posts/create\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        desc: desc,\r\n        img: img,\r\n        userId: id,\r\n      }),\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Gets profile data\r\nexport const fetchProfileData = async (username, id) => {\r\n  try {\r\n    const req = await fetch(`/api/posts/profile/${username}/${id}`);\r\n    return await req.json();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Deletes Comment\r\nexport const deleteCommentHelper = async (id, postId) => {\r\n  try {\r\n    await fetch(`/api/posts/delete/${id}/${postId}`, {\r\n      method: \"DELETE\",\r\n    });\r\n    await window.location.reload();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Posts Comment\r\nexport const postComment = async (postId, text, userId) => {\r\n  try {\r\n    await fetch(`/api/posts/comment/${postId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        text,\r\n        userId,\r\n      }),\r\n    });\r\n\r\n    window.location.reload();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Edits profiles username\r\nexport const editProfile = async (name, id) => {\r\n  try {\r\n    await fetch(`/api/user/edit/${id}`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        username: name,\r\n      }),\r\n    });\r\n    localStorage.removeItem(\"user\");\r\n    window.location.reload();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Lists all users friends from api\r\nexport const getFriends = async (id) => {\r\n  try {\r\n    const req = await fetch(`/api/user/friends/${id}`);\r\n    const res = await req.json();\r\n    return await res;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Add a friend\r\nexport const addFriend = async (id, userId) => {\r\n  try {\r\n    await fetch(`/api/user/addFriend/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        userId,\r\n      }),\r\n    });\r\n\r\n    await window.location.reload();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Removes a friend\r\nexport const removeFriend = async (id, userId) => {\r\n  try {\r\n    await fetch(`/api/user/removeFriend/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        userId,\r\n      }),\r\n    });\r\n    await window.location.reload();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Get single user\r\nexport const getUserData = async (id) => {\r\n  const req = await fetch(`/api/user?userId=${id}`);\r\n  const res = await req.json();\r\n  return res;\r\n};\r\n\r\n// Messages!\r\n\r\n// Gets all conversations\r\nexport const getConversation = async (id) => {\r\n  try {\r\n    const req = await fetch(`/api/msgs/conversation/${id}`);\r\n    const res = await req.json();\r\n    return res;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Get messages from conversation\r\nexport const getMessages = async (id) => {\r\n  try {\r\n    const req = await fetch(`/api/msgs/${id}`);\r\n    const res = await req.json();\r\n    return res;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// find conversation\r\nexport const findConvo = async (userId, friendId) => {\r\n  try {\r\n    const req = await fetch(`/api/msgs/conversation/${userId}/${friendId}`);\r\n    const res = await req.json();\r\n    return res;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// Send message\r\nexport const sendMsg = async (data) => {\r\n  try {\r\n    const req = await fetch(\"/api/msgs/sendMsg\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(data),\r\n    });\r\n    const res = await req.json();\r\n    return res;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import {\r\n  Close,\r\n  CloseContainer,\r\n  DeleteModalContainer,\r\n  DeleteModalMainContainer,\r\n} from \"./styles/DeleteModalStyles/DeleteModalStyles\";\r\nimport { PostCardButtonDelete } from \"./styles/PostCardStyles\";\r\nimport { deletePostHelper } from \"./utils/apiHelpers\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst DeletePostModal = ({ id, setOpenModal, openModal }) => {\r\n  const history = useHistory();\r\n  const deletePost = async (id) => {\r\n    await deletePostHelper(id);\r\n    if (window.location.pathname === \"/\") {\r\n      window.location.reload();\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n  return (\r\n    <DeleteModalMainContainer>\r\n      <DeleteModalContainer>\r\n        <Close onClick={() => closeModal()}>&#10060;</Close>\r\n        <h1 style={{ padding: \"0.5em\" }}>\r\n          Are you sure you want to delete this post?\r\n        </h1>\r\n        <PostCardButtonDelete onClick={() => deletePost(id)}>\r\n          Delete &#128169;\r\n        </PostCardButtonDelete>\r\n      </DeleteModalContainer>\r\n    </DeleteModalMainContainer>\r\n  );\r\n};\r\n\r\nexport default DeletePostModal;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport {\r\n  PostCardButtonsDislike,\r\n  PostCardButtonsLike,\r\n} from \"./styles/PostCardStyles\";\r\nimport { dislikeHelper, likeHelper } from \"./utils/apiHelpers\";\r\n\r\nconst LikeDislike = ({ likeArr, dislikeArr, id, userPost, socket }) => {\r\n  const [like, setLike] = useState(likeArr.length);\r\n  const [dislike, setDislike] = useState(dislikeArr.length);\r\n  const [isDislike, setIsDislike] = useState(false);\r\n  const [isLiked, setIsLiked] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const myInit = {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({\r\n      userId: user.user._id,\r\n    }),\r\n  };\r\n\r\n  useEffect(() => {\r\n    setIsLiked(likeArr.includes(user.user._id));\r\n    setIsDislike(dislikeArr.includes(user.user._id));\r\n  }, [user.user._id, likeArr, dislikeArr]);\r\n\r\n  // like func\r\n  const likeHandle = (type) => {\r\n    // check if user disliked post\r\n    if (isDislike === true) {\r\n      likeHelper(id, myInit);\r\n      setLike(isLiked ? like - 1 : like + 1);\r\n      setIsLiked(!isLiked);\r\n\r\n      // sets isDislike to false and removes the dislike\r\n      dislikeHelper(id, myInit);\r\n      setDislike(dislike - 1);\r\n      setIsDislike(!isDislike);\r\n    } else if (isLiked === true) {\r\n      // If its already liked don't send notification\r\n      likeHelper(id, myInit);\r\n      setLike(isLiked ? like - 1 : like + 1);\r\n      setIsLiked(!isLiked);\r\n    } else {\r\n      likeHelper(id, myInit);\r\n      setLike(isLiked ? like - 1 : like + 1);\r\n      setIsLiked(!isLiked);\r\n\r\n      socket.current.emit(\"sendNotification\", {\r\n        senderName: user.user.username,\r\n        receiverName: userPost,\r\n        type,\r\n      });\r\n    }\r\n  };\r\n\r\n  // dislike func\r\n  const dislikeHandle = async (type) => {\r\n    // check if user already liked a post\r\n    if (isLiked === true) {\r\n      // sets isLiked to false and removes the like\r\n      likeHelper(id, myInit);\r\n      setLike(like - 1);\r\n      setIsLiked(!isLiked);\r\n\r\n      dislikeHelper(id, myInit);\r\n      setDislike(isDislike ? dislike - 1 : dislike + 1);\r\n      setIsDislike(!isDislike);\r\n    } else if (isDislike === true) {\r\n      //If it's already disliked don't send notification\r\n      dislikeHelper(id, myInit);\r\n      setDislike(isDislike ? dislike - 1 : dislike + 1);\r\n      setIsDislike(!isDislike);\r\n    } else {\r\n      dislikeHelper(id, myInit);\r\n      setDislike(isDislike ? dislike - 1 : dislike + 1);\r\n      setIsDislike(!isDislike);\r\n\r\n      socket.current.emit(\"sendNotification\", {\r\n        senderName: user.user.username,\r\n        receiverName: userPost,\r\n        type,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PostCardButtonsLike onClick={() => likeHandle(1)} isLiked={isLiked}>\r\n        &#128077; {like > 0 ? like : null}\r\n      </PostCardButtonsLike>\r\n      <PostCardButtonsDislike\r\n        isDisliked={isDislike}\r\n        onClick={() => dislikeHandle(2)}\r\n      >\r\n        &#128169;{dislike > 0 ? dislike : null}\r\n      </PostCardButtonsDislike>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LikeDislike;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport {\r\n  PostCardBottomBar,\r\n  PostCardBtnContainer,\r\n  PostCardButtonDelete,\r\n  PostCardContainer,\r\n  PostCardContentContainer,\r\n  PostCardDesc,\r\n  PostCardHeader,\r\n  PostCardLink,\r\n  PostCardUserContainer,\r\n  PostCardUserImg,\r\n  PostCardUserInfo,\r\n  PostCardWrapper,\r\n} from \"./styles/PostCardStyles\";\r\nimport { SinglePostCommentBtn } from \"./styles/SinglePostStyles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DeletePostModal from \"./DeletePostModal\";\r\nimport moment from \"moment\";\r\nimport { fetchPostData } from \"./utils/apiHelpers\";\r\nimport LikeDislike from \"./LikeDislike\";\r\n\r\nconst Post = ({ post, socket }) => {\r\n  const [userPost, setUserPost] = useState({});\r\n  const [openModal, setOpenModal] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  // fetching post data\r\n  useEffect(() => {\r\n    fetchPostData(post.userId).then((data) => setUserPost(data));\r\n  }, [post.userId]);\r\n\r\n  // deleting post\r\n  const deletePost = async () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n\r\n  return (\r\n    <PostCardContainer>\r\n      <PostCardContentContainer>\r\n        <PostCardUserContainer>\r\n          <PostCardWrapper>\r\n            <PostCardUserInfo\r\n              to={`/profile/${userPost.username}/${userPost._id}`}\r\n            >\r\n              <PostCardUserImg\r\n                src={`\r\nhttps://avatars.dicebear.com/api/identicon/${userPost.username}.svg\r\n        `}\r\n              />\r\n\r\n              <PostCardHeader>{userPost.username}</PostCardHeader>\r\n            </PostCardUserInfo>\r\n            <div>\r\n              <p>\r\n                Posted At:\r\n                <PostCardHeader>\r\n                  {moment(post.createdAt).format(\"DD MMM  HH:mm\")}\r\n                </PostCardHeader>\r\n              </p>\r\n            </div>\r\n          </PostCardWrapper>\r\n          <div style={{ width: \"100%\" }}>\r\n            <PostCardDesc>\r\n              <PostCardLink to={`/posts/${post._id}`}>{post.desc}</PostCardLink>\r\n            </PostCardDesc>\r\n          </div>\r\n          <img\r\n            src={`https://mokimoki-mern-social-media.herokuapp.com/images/${post.img}`}\r\n            style={{ width: \"100%\" }}\r\n            alt=\"\"\r\n          />\r\n          <PostCardBottomBar>\r\n            <PostCardBtnContainer>\r\n              <LikeDislike\r\n                socket={socket}\r\n                id={post._id}\r\n                likeArr={post.likes}\r\n                dislikeArr={post.dislikes}\r\n                postUserId={post.userId}\r\n                userPost={userPost.username}\r\n              />\r\n              {/* comments */}\r\n              <SinglePostCommentBtn>\r\n                <Link to={`/posts/${post._id}`}>\r\n                  &#128172;\r\n                  {post.comments.length > 0 ? post.comments.length : null}\r\n                </Link>\r\n              </SinglePostCommentBtn>\r\n            </PostCardBtnContainer>\r\n            {user.user._id === post.userId ? (\r\n              <PostCardButtonDelete onClick={() => deletePost(post._id)}>\r\n                &#10060;\r\n              </PostCardButtonDelete>\r\n            ) : null}\r\n            {/* modal for delete */}\r\n            {openModal ? (\r\n              <DeletePostModal\r\n                setOpenModal={setOpenModal}\r\n                openModal={openModal}\r\n                id={post._id}\r\n              />\r\n            ) : null}\r\n          </PostCardBottomBar>\r\n        </PostCardUserContainer>\r\n      </PostCardContentContainer>\r\n    </PostCardContainer>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import styled from \"styled-components\";\r\n\r\nexport const BtnArrowUp = styled.span`\r\n  position: fixed;\r\n  display: inline-block;\r\n  bottom: 6%;\r\n  left: 7%;\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  font-size: 3em;\r\n  cursor: pointer;\r\n  transition: 0.2s ease all;\r\n\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.editBtn};\r\n  }\r\n\r\n  @media (max-width: 910px) {\r\n    left: 3%;\r\n    bottom: 3%;\r\n  }\r\n\r\n  @media (max-width: 590px) {\r\n    display: none;\r\n  }\r\n`;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nconst Loader = () => {\r\n  const skBounce = keyframes`\r\n      0%,\r\n      100% {\r\n        transform: scale(0);\r\n      }\r\n      50% {\r\n        transform: scale(1);\r\n      }\r\n  `;\r\n  const LoaderContainer = styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    position: relative;\r\n    margin: auto;\r\n    top: 300px;\r\n  `;\r\n\r\n  const LoaderBubble = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 50%;\r\n    background-color: ${({ theme }) => theme.colors.orangeBtn};\r\n    opacity: 0.6;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    animation: ${skBounce} 2s infinite ease-in-out;\r\n  `;\r\n\r\n  return (\r\n    <LoaderContainer>\r\n      <LoaderBubble></LoaderBubble>\r\n      <LoaderBubble></LoaderBubble>\r\n    </LoaderContainer>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainHomeContainer = styled.div`\r\n  max-width: 1240px;\r\n  margin: 0 auto;\r\n`;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Post from \"./Post\";\r\nimport { BtnArrowUp } from \"./styles/BackToTopBtnStyles\";\r\nimport Loader from \"./Loader\";\r\nimport { getPosts } from \"./utils/apiHelpers\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport { MainHomeContainer } from \"./styles/HomepageStyles\";\r\n\r\nconst HomepageLayout = ({ socket }) => {\r\n  const [posts, setPosts] = useState();\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getPosts().then((data) =>\r\n      setPosts(\r\n        data.sort((p1, p2) => {\r\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n        })\r\n      )\r\n    );\r\n\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [user]);\r\n\r\n  const handleToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <MainHomeContainer>\r\n      {posts === undefined ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          {posts.map((post) => (\r\n            <Post socket={socket} key={post._id} post={post} />\r\n          ))}\r\n        </>\r\n      )}\r\n      <BtnArrowUp onClick={handleToTop}>&#9650;</BtnArrowUp>\r\n    </MainHomeContainer>\r\n  );\r\n};\r\n\r\nexport default HomepageLayout;\r\n","import styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const NavbarContainer = styled.div`\r\n  width: 100%;\r\n  height: 45px;\r\n  background-color: ${({ theme }) => theme.colors.cardBg};\r\n  border-radius: 0 0 10px 10px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  margin-bottom: 1em;\r\n`;\r\n\r\nexport const NavLeftSide = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n  justify-content: space-evenly;\r\n  font-size: 1.5em;\r\n`;\r\n\r\nexport const Logo = styled.img``;\r\n\r\nexport const NavUserContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const NavUserImg = styled.img`\r\n  height: 30px;\r\n  width: 30px;\r\n  margin: 0 1em;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const NavUsername = styled.h3`\r\n  transition: 0.2s ease color;\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.orangeBtn};\r\n  }\r\n`;\r\n\r\n// Menu dropdown\r\nexport const NavDropdownCotnainer = styled.div`\r\n  position: absolute;\r\n  top: 35px;\r\n  width: 100%;\r\n  height: auto;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  border: 1px solid ${({ theme }) => theme.colors.text};\r\n  border-radius: 10px;\r\n  z-index: 10;\r\n`;\r\n\r\nexport const NavbarDropdownLink = styled(Link)`\r\n  width: 100%;\r\n  display: block;\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.heading};\r\n  padding: 0.5em;\r\n`;\r\n\r\nexport const NavbarDropdownSignOut = styled.span`\r\n  width: 100%;\r\n  display: block;\r\n  color: ${({ theme }) => theme.colors.orangeBtn};\r\n  transition: 0.2s ease color;\r\n  padding: 0.5em;\r\n\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.greenBtn};\r\n  }\r\n`;\r\n\r\nexport const ToggleContainer = styled.div`\r\n  width: 70px;\r\n  height: 30px;\r\n  border-radius: 15px;\r\n  border: 2px solid ${({ theme }) => theme.colors.heading};\r\n  padding: 0.3em;\r\n`;\r\n\r\nexport const ToggleItemWrapper = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const ToggleBtn = styled.span`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background: ${({ theme }) => theme.colors.heading};\r\n  position: absolute;\r\n  left: ${({ toggle }) => (toggle ? \"100%\" : \"0%\")};\r\n  transform: ${({ toggle }) =>\r\n    toggle ? \"translateX(-100%)\" : \" translateX(0%)\"};\r\n  z-index: 3;\r\n  transition: 0.3s ease all;\r\n`;\r\n\r\nexport const NavItemWrapper = styled.div`\r\n  position: fixed;\r\n  z-index: 10;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100vh;\r\n  width: 30%;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column-reverse;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  transition: 0.3s ease all;\r\n  transform: ${({ hamburgerToggle }) =>\r\n    hamburgerToggle ? \"translateX(0%)\" : \"translateX(-100%)\"};\r\n\r\n  @media (max-width: 526px) {\r\n    width: 60%;\r\n  }\r\n`;\r\n\r\nexport const HamburgerContainer = styled.div`\r\n  z-index: 10;\r\n  width: 33px;\r\n  height: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  position: relative;\r\n  transition: 0.3s ease all;\r\n  z-index: 20;\r\n\r\n  & span {\r\n    z-index: 10;\r\n    display: block;\r\n    width: 100%;\r\n    height: 2px;\r\n    background: ${({ theme }) => theme.colors.heading};\r\n    transition: 0.3s ease all;\r\n    position: ${({ hamburgerToggle }) =>\r\n      hamburgerToggle ? \"absolute\" : \"static\"};\r\n  }\r\n\r\n  & span:nth-child(1) {\r\n    transform: ${({ hamburgerToggle }) =>\r\n      hamburgerToggle ? \"rotate(45deg)\" : \"rotate(0deg)\"};\r\n  }\r\n\r\n  & span:nth-child(3) {\r\n    transform: ${({ hamburgerToggle }) =>\r\n      hamburgerToggle ? \"rotate(-45deg)\" : \"rotate(0deg)\"};\r\n  }\r\n\r\n  & span:nth-child(2) {\r\n    opacity: ${({ hamburgerToggle }) => (hamburgerToggle ? \"0\" : \"1\")};\r\n    display: ${({ hamburgerToggle }) => (hamburgerToggle ? \"none\" : \"block\")};\r\n  }\r\n`;\r\n\r\nexport const AdditionWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  & > a {\r\n    font-size: 1.3em;\r\n    margin-right: 0.3em;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NotificationContainer = styled.span`\r\n  position: relative;\r\n\r\n  & > span {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NotificationNumber = styled.span`\r\n  position: absolute;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 0.7em;\r\n  top: -2px;\r\n  right: -2px;\r\n  background: ${({ theme }) => theme.colors.redBtn};\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  width: 13px;\r\n  height: 13px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const NotificationArrow = styled.div`\r\n  height: 20px;\r\n  width: 20px;\r\n  background: ${({ theme }) => theme.colors.text};\r\n  position: absolute;\r\n\r\n  clip-path: polygon(50% 0, 0 100%, 100% 100%);\r\n`;\r\n\r\nexport const NotificationTextContainer = styled.div`\r\n  position: absolute;\r\n  border-radius: 10px;\r\n  top: 33px;\r\n  width: 227px;\r\n  background-color: ${({ theme }) => theme.colors.text};\r\n  color: ${({ theme }) => theme.colors.cardBg};\r\n`;\r\n\r\nexport const NotificationMessagesContainer = styled.div`\r\n  padding: 0.3em;\r\n  height: auto;\r\n  max-height: 250px;\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport const NotificationMarkAsRead = styled.span`\r\n  display: block;\r\n  cursor: pointer;\r\n  padding: 0.3em;\r\n  width: 100%;\r\n  text-align: center;\r\n  font-weight: bold;\r\n  border-radius: 0 0 10px 10px;\r\n  border-top: 2px solid ${({ theme }) => theme.colors.cardBg};\r\n  background-color: ${({ theme }) => theme.colors.text};\r\n  color: ${({ theme }) => theme.colors.cardBg};\r\n`;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  HamburgerContainer,\r\n  NavbarContainer,\r\n  NavbarDropdownLink,\r\n  NavbarDropdownSignOut,\r\n  NavDropdownCotnainer,\r\n  NavItemWrapper,\r\n  NavLeftSide,\r\n  NavUserContainer,\r\n  NavUserImg,\r\n  NavUsername,\r\n  ToggleBtn,\r\n  ToggleContainer,\r\n  ToggleItemWrapper,\r\n  AdditionWrapper,\r\n  NotificationContainer,\r\n  NotificationNumber,\r\n  NotificationTextContainer,\r\n  NotificationArrow,\r\n  NotificationMarkAsRead,\r\n  NotificationMessagesContainer,\r\n} from \"./styles/NavbarStyles\";\r\n\r\nconst Navbar = ({ user, setThemes, themes, socket }) => {\r\n  const navRef = useRef(null);\r\n\r\n  // toggle profile menu\r\n  const [menu, setMenu] = useState(false);\r\n\r\n  // toggle themes\r\n  const [toggle, setToggle] = useState(false);\r\n\r\n  // toggle hamburger\r\n  const [toggleHamburger, setToggleHamburger] = useState(false);\r\n  const hamburgerRef = useRef(null);\r\n\r\n  // toggle notifications\r\n  const notifyRef = useRef(null);\r\n  const [notifyMenu, setNotifyMenu] = useState(false);\r\n\r\n  // notification messages\r\n  const [notifications, setNotifications] = useState([]);\r\n\r\n  // Toggle hamburger effect\r\n  useEffect(() => {\r\n    const closeHamburgerMenu = (e) => {\r\n      if (\r\n        hamburgerRef.current &&\r\n        !hamburgerRef.current.contains(e.target) &&\r\n        e.target.tagName !== \"A\"\r\n      ) {\r\n        setToggleHamburger(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", closeHamburgerMenu);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", closeHamburgerMenu);\r\n    };\r\n  }, [hamburgerRef]);\r\n\r\n  // Toggle notification effect\r\n  useEffect(() => {\r\n    const closeNotification = (e) => {\r\n      if (\r\n        notifyRef.current &&\r\n        !notifyRef.current.contains(e.target) &&\r\n        e.target.className !== \"sc-khQegj FpLmh\"\r\n      ) {\r\n        setNotifyMenu(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", closeNotification);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", closeNotification);\r\n    };\r\n  }, [notifyRef]);\r\n\r\n  const toggleNotifyMenu = () => {\r\n    setNotifyMenu(!notifyMenu);\r\n  };\r\n\r\n  const toggleHamburgerMenu = () => {\r\n    setToggleHamburger(!toggleHamburger);\r\n  };\r\n\r\n  const changeTheme = () => {\r\n    if (themes === \"light\") {\r\n      setThemes(\"dark\");\r\n      localStorage.setItem(\"theme\", JSON.stringify(\"dark\"));\r\n    } else {\r\n      setThemes(\"light\");\r\n      localStorage.setItem(\"theme\", JSON.stringify(\"light\"));\r\n    }\r\n    setToggle(!toggle);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let closeNavDropdown = (e) => {\r\n      if (navRef.current && !navRef.current.contains(e.target)) {\r\n        setMenu(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", closeNavDropdown);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", closeNavDropdown);\r\n    };\r\n  });\r\n\r\n  const handleDropdownMenu = () => {\r\n    setMenu(!menu);\r\n  };\r\n\r\n  const signOutHandler = () => {\r\n    localStorage.removeItem(\"user\");\r\n    window.location.reload();\r\n  };\r\n\r\n  // Socket effect\r\n  useEffect(() => {\r\n    socket.current.on(\"getNotification\", (data) => {\r\n      setNotifications((prev) => [...prev, data]);\r\n    });\r\n  }, [socket, user]);\r\n\r\n  const displayNotification = ({ senderName, type }, idx) => {\r\n    let action;\r\n\r\n    if (type === 1) {\r\n      action = \"liked\";\r\n    } else {\r\n      action = \"disliked\";\r\n    }\r\n\r\n    return <div key={idx}>{`${senderName} ${action} your post.`}</div>;\r\n  };\r\n\r\n  const handleMarkAsRead = () => {\r\n    setNotifications([]);\r\n  };\r\n\r\n  return (\r\n    <NavbarContainer>\r\n      {user ? (\r\n        <>\r\n          <HamburgerContainer\r\n            onClick={toggleHamburgerMenu}\r\n            hamburgerToggle={toggleHamburger}\r\n            ref={hamburgerRef}\r\n          >\r\n            <span></span>\r\n            <span></span>\r\n            <span></span>\r\n          </HamburgerContainer>\r\n          <NavUserContainer onClick={() => handleDropdownMenu()}>\r\n            <NavUsername>{user.user.username}</NavUsername>\r\n            <NavUserImg\r\n              src={`https://avatars.dicebear.com/api/identicon/${user.user.username}.svg`}\r\n            />\r\n            {menu ? (\r\n              <NavDropdownCotnainer ref={navRef}>\r\n                <NavbarDropdownLink\r\n                  to={`/profile/${user.user.username}/${user.user._id}`}\r\n                >\r\n                  Profile\r\n                </NavbarDropdownLink>\r\n                <NavbarDropdownSignOut onClick={() => signOutHandler()}>\r\n                  Sign Out\r\n                </NavbarDropdownSignOut>\r\n              </NavDropdownCotnainer>\r\n            ) : null}\r\n          </NavUserContainer>\r\n          <NavItemWrapper hamburgerToggle={toggleHamburger}>\r\n            <NavLeftSide>\r\n              <Link onClick={() => setToggleHamburger(false)} to=\"/\">\r\n                Home\r\n              </Link>\r\n              <Link\r\n                style={{ margin: \"0 1em\" }}\r\n                to=\"/about\"\r\n                onClick={() => setToggleHamburger(false)}\r\n              >\r\n                About\r\n              </Link>\r\n              <Link onClick={() => setToggleHamburger(false)} to=\"/createPost\">\r\n                Create a post\r\n              </Link>\r\n            </NavLeftSide>\r\n          </NavItemWrapper>\r\n          <AdditionWrapper>\r\n            <NotificationContainer ref={notifyRef} onClick={toggleNotifyMenu}>\r\n              <span> &#128276;</span>\r\n              {notifications.length > 0 && (\r\n                <NotificationNumber>{notifications.length}</NotificationNumber>\r\n              )}\r\n\r\n              {notifyMenu ? (\r\n                <>\r\n                  <NotificationArrow></NotificationArrow>\r\n                  <NotificationTextContainer>\r\n                    <NotificationMessagesContainer>\r\n                      {/* Displays notifications */}\r\n                      {notifications.map((notify, idx) =>\r\n                        displayNotification(notify, idx)\r\n                      )}\r\n                    </NotificationMessagesContainer>\r\n                    <NotificationMarkAsRead onClick={handleMarkAsRead}>\r\n                      Mark as Read\r\n                    </NotificationMarkAsRead>\r\n                  </NotificationTextContainer>\r\n                </>\r\n              ) : null}\r\n            </NotificationContainer>\r\n            <Link to=\"/chat\">&#128172;</Link>\r\n            <ToggleContainer>\r\n              <ToggleItemWrapper onClick={changeTheme}>\r\n                <span>&#127774;</span>\r\n                <span>&#127771;</span>\r\n                <ToggleBtn toggle={toggle}></ToggleBtn>\r\n              </ToggleItemWrapper>\r\n            </ToggleContainer>\r\n          </AdditionWrapper>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Link to=\"/login\">Login</Link>\r\n          <Link to=\"/register\">Register</Link>\r\n        </>\r\n      )}\r\n    </NavbarContainer>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import styled from \"styled-components\";\r\n\r\nexport const AboutMainContainer = styled.div`\r\n  max-width: 1140px;\r\n  margin: 1em auto;\r\n  width: 100%;\r\n`;\r\n\r\nexport const AboutHeadingWrapper = styled.div`\r\n  border-bottom: 1px solid ${({ theme }) => theme.colors.heading};\r\n  margin-bottom: 1em;\r\n`;\r\n\r\nexport const AboutHeading = styled.h1`\r\n  color: ${({ theme }) => theme.colors.orangeBtn};\r\n  margin-bottom: 1em;\r\n  width: 100%;\r\n`;\r\n\r\nexport const FaqContainer = styled.div`\r\n  width: 50%;\r\n\r\n  @media (max-width: 610px) {\r\n    width: 80%;\r\n  }\r\n\r\n  @media (max-width: 432px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const FaqHeading = styled.h4`\r\n  font-weight: 400;\r\n  font-size: 1.5em;\r\n`;\r\n\r\nexport const FaqQuestionsContainer = styled.div`\r\n  padding: 1em;\r\n`;\r\n\r\nexport const FaqQuestion = styled.span`\r\n  font-weight: 500;\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  display: inline;\r\n`;\r\n\r\nexport const AboutContactContainer = styled.div`\r\n  border-top: 1px solid ${({ theme }) => theme.colors.heading};\r\n  margin: 1em 0;\r\n`;\r\n","import { useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport {\r\n  AboutContactContainer,\r\n  AboutHeading,\r\n  AboutHeadingWrapper,\r\n  AboutMainContainer,\r\n  FaqContainer,\r\n  FaqHeading,\r\n  FaqQuestionsContainer,\r\n} from \"./styles/AboutStyles\";\r\n\r\nconst About = () => {\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <AboutMainContainer>\r\n      <AboutHeadingWrapper>\r\n        <AboutHeading>ABOUT</AboutHeading>\r\n      </AboutHeadingWrapper>\r\n      <FaqContainer>\r\n        <FaqHeading>F.A.Q:</FaqHeading>\r\n        <FaqQuestionsContainer>\r\n          <br />\r\n          <b>Question: </b>\r\n          <p1>Can I sing up without my personal infomation?</p1>\r\n          <br />\r\n          <b>Awnser: </b>\r\n          <p1>\r\n            Yea, just use something that looks like an email and use a random\r\n            password, but remember that you can't recover it.\r\n          </p1>\r\n          <br />\r\n          <br />\r\n          <b>Question: </b>\r\n          <p1>What is this platform?</p1>\r\n          <br />\r\n          <b>Awnser: </b>\r\n          <p1>\r\n            This is a personal project that replicates functionality of a social\r\n            media.\r\n          </p1>\r\n          <br />\r\n          <br />\r\n          <b>Question: </b>\r\n          <p1>Is this project finished?</p1>\r\n          <br />\r\n          <b>Awnser: </b>\r\n          <p1>\r\n            Main functionality is finished, there are a few things to tweak and\r\n            fix, but yes, the majority is finished.\r\n          </p1>\r\n        </FaqQuestionsContainer>\r\n      </FaqContainer>\r\n      <AboutContactContainer>\r\n        <AboutHeading style={{ marginTop: \"1em\" }}>Contact</AboutHeading>\r\n        <br />\r\n        <b>Email: </b>\r\n        <p1>alexloremipsum@gmail.com</p1>\r\n        <br />\r\n        <b>Github: </b>\r\n        <p1>moki-moki</p1>\r\n      </AboutContactContainer>\r\n    </AboutMainContainer>\r\n  );\r\n};\r\n\r\nexport default About;\r\n","import styled from \"styled-components\";\r\n\r\nexport const FooterStyle = styled.footer`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  margin-top: 1em;\r\n  height: 45px;\r\n  background-color: ${({ theme }) => theme.colors.cardBg};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 10px 10px 0 0;\r\n`;\r\n\r\nexport const FooterText = styled.p``;\r\n","import { FooterStyle, FooterText } from \"./styles/FooterStyles\";\r\n\r\nconst Footer = () => {\r\n  const getYear = new Date().getFullYear();\r\n  return (\r\n    <FooterStyle>\r\n      <FooterText>&#169; {getYear} Moki-Moki, All Rights Reserved</FooterText>\r\n    </FooterStyle>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import {\r\n  NotificationSuccessContainer,\r\n  NotificationSuccessText,\r\n} from \"./styles/NotificationStyles/NotificationSuccess\";\r\n\r\nconst NotificationSuccess = () => {\r\n  return (\r\n    <NotificationSuccessContainer>\r\n      <NotificationSuccessText>Your post was uploaded.</NotificationSuccessText>\r\n    </NotificationSuccessContainer>\r\n  );\r\n};\r\n\r\nexport default NotificationSuccess;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ShareContainer = styled.div`\r\n  max-width: 1140px;\r\n  width: 100%;\r\n  margin: 1em auto;\r\n  color: ${({ theme }) => theme.colors.text};\r\n`;\r\n\r\nexport const ShareForm = styled.form`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  height: 100%;\r\n`;\r\n\r\nexport const FormInputUpload = styled.input`\r\n  padding: 1em;\r\n  margin: 0 0.3em;\r\n  background: none;\r\n  color: ${({ theme }) => theme.colors.editBtn};\r\n`;\r\n\r\nexport const FormInput = styled.input`\r\n  width: 60%;\r\n  padding: 1em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n  background: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.text};\r\n  border-radius: 15px;\r\n\r\n  @media (max-width: 600px) {\r\n    width: 80%;\r\n  }\r\n\r\n  &:focus {\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nexport const FormPlus = styled.span`\r\n  display: inline-block;\r\n  padding: 10% 0;\r\n`;\r\n\r\nexport const FormPlustBorder = styled.span`\r\n  display: inline-block;\r\n  height: 30px;\r\n  width: 30px;\r\n  border-radius: 50%;\r\n  border: 1px solid #fff;\r\n  transition: 0.2s ease all;\r\n\r\n  &:hover {\r\n    border-radius: 0;\r\n    border-color: ${({ theme }) => theme.colors.greenBtn};\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const FormBtnSubmit = styled.button`\r\n  background: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.editBtn};\r\n  border-radius: 20px;\r\n  padding: 1em;\r\n  color: ${({ theme }) => theme.colors.heading};\r\n  transition: 0.2s ease all;\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.editBtn};\r\n    border-radius: 0;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const UploadImageContainer = styled.div`\r\n  max-width: 800px;\r\n  max-height: 800px;\r\n  text-align: center;\r\n`;\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport NotificationFail from \"./NotificationFail\";\r\nimport NotificationSuccess from \"./NotificationSuccess\";\r\nimport {\r\n  FormBtnSubmit,\r\n  FormInput,\r\n  FormInputUpload,\r\n  FormPlus,\r\n  FormPlustBorder,\r\n  ShareContainer,\r\n  ShareForm,\r\n  UploadImageContainer,\r\n} from \"./styles/CreatePostStyles\";\r\nimport { createPost, uploadPost } from \"./utils/apiHelpers\";\r\n\r\nconst CreatePost = () => {\r\n  const [fileName, setFileName] = useState(null);\r\n  const [showNotification, setShowNotification] = useState(false);\r\n  const [showNotificationError, setShowNotificationError] = useState(false);\r\n  const [sharePostError, setSharePostError] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const desc = useRef();\r\n\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, [user]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const newPost = {\r\n      userId: user.user._id,\r\n      desc: desc.current.value,\r\n    };\r\n\r\n    if (fileName) {\r\n      const data = new FormData();\r\n      const fileNameStored = Date.now() + fileName.name;\r\n      data.append(\"name\", fileNameStored);\r\n      data.append(\"file\", fileName);\r\n      newPost.img = fileNameStored;\r\n\r\n      try {\r\n        // uploads posts content\r\n        await uploadPost(data);\r\n      } catch (error) {\r\n        setShowNotificationError(true);\r\n        console.log(error);\r\n      }\r\n    }\r\n\r\n    console.log(newPost.desc !== \"\");\r\n    console.log(newPost.desc);\r\n    // uploads the post\r\n    try {\r\n      if (desc.current.value !== \"\") {\r\n        createPost(newPost.desc, newPost.img, newPost.userId);\r\n        setShowNotification(true);\r\n        setTimeout(() => {\r\n          setShowNotification(false);\r\n          history.push(\"/\");\r\n        }, 3000);\r\n      } else {\r\n        setSharePostError(true);\r\n        setTimeout(() => {\r\n          setSharePostError(false);\r\n        }, 3000);\r\n      }\r\n    } catch (error) {\r\n      setShowNotificationError(true);\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ShareContainer>\r\n      <ShareForm onSubmit={submitHandler}>\r\n        <FormInput placeholder={\"Whats on your mind ?\"} ref={desc} />\r\n        <span style={{ marginTop: \"1em \" }}>Share Photo or a Video</span>\r\n        <label htmlFor=\"file\" style={{ marginTop: \"1em\" }}>\r\n          <div style={{ textAlign: \"center\" }}>\r\n            <FormPlustBorder>\r\n              <FormPlus>&#43;</FormPlus>\r\n            </FormPlustBorder>\r\n          </div>\r\n          <FormInputUpload\r\n            type=\"file\"\r\n            id=\"file\"\r\n            accept=\".png,.jpeg,.jpg\"\r\n            onChange={(e) => setFileName(e.target.files[0])}\r\n          />\r\n        </label>\r\n        <UploadImageContainer>\r\n          {fileName && (\r\n            <img\r\n              style={{ margin: \"1em 0\", maxWidth: \"100%\", height: \"90%\" }}\r\n              src={URL.createObjectURL(fileName)}\r\n              alt=\"img\"\r\n            />\r\n          )}\r\n        </UploadImageContainer>\r\n        <FormBtnSubmit style={{ marginTop: \"1em\" }} type=\"submit\">\r\n          Share\r\n        </FormBtnSubmit>\r\n        {/* success msg */}\r\n        {showNotification ? <NotificationSuccess /> : null}\r\n        {/* error msg */}\r\n        {showNotificationError ? (\r\n          <NotificationFail text={\"Oops... Something went wrong.\"} />\r\n        ) : null}\r\n        {sharePostError ? (\r\n          <NotificationFail text={\"You must type in something\"} />\r\n        ) : null}\r\n      </ShareForm>\r\n    </ShareContainer>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import styled from \"styled-components\";\r\n\r\nexport const PostCardDesc = styled.p`\r\n  color: ${({ theme }) => theme.colors.text};\r\n  padding: 1em 1em;\r\n  transition: 0.3s ease all;\r\n  width: 100%;\r\n  display: inline-block;\r\n  border-radius: 10px;\r\n  word-break: break-word;\r\n  cursor: default;\r\n  &:hover {\r\n    color: ${({ theme }) => theme.colors.heading};\r\n    background: rgba(255, 255, 255, 0.1);\r\n  }\r\n`;\r\n","import {\r\n  Close,\r\n  DeleteModalContainer,\r\n  DeleteModalMainContainer,\r\n} from \"./styles/DeleteModalStyles/DeleteModalStyles\";\r\nimport { PostCardButtonDelete } from \"./styles/PostCardStyles\";\r\nimport { deleteCommentHelper } from \"./utils/apiHelpers\";\r\n\r\nconst DeleteCommentModal = ({ id, setOpenModal, openModal, postId }) => {\r\n  const deleteComment = (id, postId) => {\r\n    deleteCommentHelper(id, postId);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n  return (\r\n    <DeleteModalMainContainer>\r\n      <DeleteModalContainer>\r\n        <Close onClick={() => closeModal()}>&#10060;</Close>\r\n        <h1>Are you sure you want to delete this comment?</h1>\r\n        <PostCardButtonDelete onClick={() => deleteComment(postId, id)}>\r\n          Delete &#128169;\r\n        </PostCardButtonDelete>\r\n      </DeleteModalContainer>\r\n    </DeleteModalMainContainer>\r\n  );\r\n};\r\n\r\nexport default DeleteCommentModal;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport { fetchPostData } from \"./utils/apiHelpers\";\r\nimport {\r\n  PostCardBottomBar,\r\n  PostCardBtnContainer,\r\n  PostCardButtonDelete,\r\n  PostCardContainer,\r\n  PostCardContentContainer,\r\n  PostCardHeader,\r\n  PostCardUserContainer,\r\n  PostCardUserImg,\r\n  PostCardUserInfo,\r\n  PostCardWrapper,\r\n} from \"./styles/PostCardStyles\";\r\nimport { PostCardDesc } from \"./styles/CommentStyles/CommentStyles\";\r\nimport moment from \"moment\";\r\nimport DeleteCommentModal from \"./DeleteCommentModel\";\r\n\r\nconst Comment = ({ comment }) => {\r\n  const [userData, setUserData] = useState({});\r\n  const [openModal, setOpenModal] = useState(false);\r\n  const { user: username } = useContext(AuthContext);\r\n  const { id } = useParams();\r\n  const { user, text, _id, date } = comment;\r\n\r\n  useEffect(() => {\r\n    fetchPostData(user).then((data) => setUserData(data));\r\n  }, [user]);\r\n\r\n  // deletes a post duuh...\r\n  const deletePost = () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PostCardContainer>\r\n        <PostCardContentContainer>\r\n          <PostCardUserContainer>\r\n            <PostCardWrapper>\r\n              <PostCardUserInfo\r\n                to={`/profile/${userData.username}/${userData._id}`}\r\n              >\r\n                <PostCardUserImg\r\n                  src={`\r\nhttps://avatars.dicebear.com/api/identicon/${userData.username}.svg\r\n        `}\r\n                />\r\n                <PostCardHeader>{userData.username}</PostCardHeader>\r\n              </PostCardUserInfo>\r\n              <div>\r\n                <p>\r\n                  Posted At:\r\n                  <PostCardHeader>\r\n                    {moment(date).format(\"DD MMM  HH:mm\")}\r\n                  </PostCardHeader>\r\n                </p>\r\n              </div>\r\n            </PostCardWrapper>\r\n            <div style={{ width: \"100%\" }}>\r\n              <PostCardDesc>{text}</PostCardDesc>\r\n            </div>\r\n            <PostCardBottomBar>\r\n              <PostCardBtnContainer>\r\n                {username.user._id === user ? (\r\n                  <PostCardButtonDelete onClick={() => deletePost(_id)}>\r\n                    &#10060;\r\n                  </PostCardButtonDelete>\r\n                ) : null}\r\n                {/* modal for delete */}\r\n                {openModal ? (\r\n                  <DeleteCommentModal\r\n                    setOpenModal={setOpenModal}\r\n                    openModal={openModal}\r\n                    id={_id}\r\n                    postId={id}\r\n                  />\r\n                ) : null}\r\n              </PostCardBtnContainer>\r\n            </PostCardBottomBar>\r\n          </PostCardUserContainer>\r\n        </PostCardContentContainer>\r\n      </PostCardContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import Comment from \"./Comment\";\r\n\r\nconst Comments = ({ comments }) => {\r\n  return (\r\n    <div>\r\n      {comments.map((comment) => (\r\n        <Comment key={comment._id} comment={comment} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comments;\r\n","import styled from \"styled-components\";\r\n\r\nexport const CommentInputContainer = styled.form`\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0.7em;\r\n`;\r\n\r\nexport const CommentInputForm = styled.input`\r\n  padding: 0.5em 1em;\r\n  background: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.heading};\r\n  border-radius: 20px;\r\n  width: 100%;\r\n  color: ${({ theme }) => theme.colors.text};\r\n  outline: none;\r\n`;\r\n\r\nexport const CommentInputBtn = styled.button`\r\n  font-size: 1em;\r\n  cursor: pointer;\r\n  padding: 0.5em;\r\n  background: none;\r\n  border: 1px solid ${({ theme }) => theme.colors.greenBtn};\r\n  transition: 0.2s ease all;\r\n  margin: 0 0.3em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    background: ${({ theme }) => theme.colors.greenBtn};\r\n    border-radius: 10px;\r\n  }\r\n`;\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  CommentInputContainer,\r\n  CommentInputForm,\r\n} from \"./styles/CommentInputStyles/CommentInputStyle\";\r\nimport { postComment } from \"./utils/apiHelpers\";\r\n\r\nconst CommentInput = ({ setShowInput, showInput, postId, userId }) => {\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const inputRef = useRef();\r\n\r\n  useEffect(() => {\r\n    let closeInput = (e) => {\r\n      if (!inputRef.current.contains(e.target)) {\r\n        setShowInput(!showInput);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", closeInput);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", closeInput);\r\n    };\r\n  });\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    postComment(postId, inputText, userId);\r\n  };\r\n\r\n  return (\r\n    <div ref={inputRef}>\r\n      <CommentInputContainer onSubmit={(e) => handleSubmit(e)}>\r\n        <CommentInputForm\r\n          onChange={(e) => setInputText(e.target.value)}\r\n          placeholder=\"Type your comment here...\"\r\n          type=\"text\"\r\n        />\r\n      </CommentInputContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentInput;\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport DeletePostModal from \"./DeletePostModal\";\r\nimport {\r\n  PostCardContainer,\r\n  PostCardContentContainer,\r\n  PostCardDesc,\r\n  PostCardUserContainer,\r\n  PostCardWrapper,\r\n  PostCardUserInfo,\r\n  PostCardUserImg,\r\n  PostCardButtonDelete,\r\n  PostCardBtnContainer,\r\n  PostCardBottomBar,\r\n} from \"./styles/PostCardStyles\";\r\nimport { fetchPostData } from \"./utils/apiHelpers\";\r\nimport Loader from \"./Loader\";\r\nimport Comments from \"./Comments\";\r\nimport {\r\n  SinglePostCommentBtn,\r\n  SinglePostPostedBy,\r\n  SinglePostUsername,\r\n} from \"./styles/SinglePostStyles\";\r\nimport CommentInput from \"./CommentInput\";\r\nimport LikeDislike from \"./LikeDislike\";\r\n\r\nconst SinglePost = ({ socket }) => {\r\n  const { id } = useParams();\r\n  const { user } = useContext(AuthContext);\r\n  const [postData, setPostData] = useState({});\r\n  const [userPost, setUserPost] = useState({});\r\n  const [like, setLike] = useState();\r\n  const [dislike, setDislike] = useState();\r\n  const history = useHistory();\r\n  // delete\r\n  const [openModal, setOpenModal] = useState(false);\r\n  // comment input\r\n  const [showInput, setShowInput] = useState(false);\r\n\r\n  // show input\r\n  const handleShowInput = () => {\r\n    setShowInput(!showInput);\r\n  };\r\n\r\n  // get posts data\r\n  useEffect(() => {\r\n    const getData = async () => {\r\n      const req = await fetch(`/api/posts/${id}`);\r\n      const data = await req.json();\r\n      setPostData(data);\r\n      setLike(data.likes);\r\n      setDislike(data.dislikes);\r\n    };\r\n    getData();\r\n  }, []);\r\n\r\n  // get users data for a post\r\n  useEffect(() => {\r\n    // const fetchPostData = async () => {\r\n    //   const req = await fetch(`/api/user?userId=${postData.userId}`);\r\n    //   const data = await req.json();\r\n    fetchPostData(postData.userId).then((data) => setUserPost(data));\r\n    // setUserPost(data);\r\n    // };\r\n\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n\r\n    fetchPostData();\r\n  }, [postData, id, user]);\r\n\r\n  // deletes a post duuh...\r\n  const deletePost = () => {\r\n    setOpenModal(!openModal);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {\r\n        (!like,\r\n        !dislike ? (\r\n          <Loader />\r\n        ) : (\r\n          <PostCardContainer>\r\n            <PostCardContentContainer>\r\n              <PostCardUserContainer>\r\n                <PostCardDesc>{postData.desc}</PostCardDesc>\r\n                {postData[\"img\"] ? (\r\n                  <img\r\n                    style={{ margin: \"1em 0\", width: \"100%\" }}\r\n                    src={`https://mokimoki-mern-social-media.herokuapp.com/images/${postData.img}`}\r\n                    alt=\"alt\"\r\n                  />\r\n                ) : null}\r\n                <PostCardWrapper>\r\n                  <PostCardUserInfo\r\n                    to={`/profile/${userPost.username}/${userPost._id}`}\r\n                  >\r\n                    <SinglePostPostedBy> Posted by: </SinglePostPostedBy>\r\n                    <PostCardUserImg\r\n                      src={`\r\nhttps://avatars.dicebear.com/api/identicon/${userPost.username}.svg\r\n        `}\r\n                    />\r\n                    <SinglePostUsername>{userPost.username}</SinglePostUsername>\r\n                  </PostCardUserInfo>\r\n                </PostCardWrapper>\r\n              </PostCardUserContainer>\r\n            </PostCardContentContainer>\r\n            {/* LIKE DISLIKE */}\r\n            <PostCardBottomBar>\r\n              <PostCardBtnContainer>\r\n                {/* like dislike component */}\r\n                <LikeDislike\r\n                  socket={socket}\r\n                  id={id}\r\n                  likeArr={like}\r\n                  dislikeArr={dislike}\r\n                />\r\n                {/* comments */}\r\n                <SinglePostCommentBtn\r\n                  disabled={showInput === true}\r\n                  onClick={() => handleShowInput()}\r\n                >\r\n                  &#128172;\r\n                </SinglePostCommentBtn>\r\n              </PostCardBtnContainer>\r\n              {user.user._id === postData.userId ? (\r\n                <PostCardButtonDelete onClick={() => deletePost(id)}>\r\n                  &#10060;\r\n                </PostCardButtonDelete>\r\n              ) : null}\r\n            </PostCardBottomBar>\r\n            {/* Comment input */}\r\n            {showInput ? (\r\n              <CommentInput\r\n                userId={user.user._id}\r\n                postId={id}\r\n                setShowInput={setShowInput}\r\n                showInput={showInput}\r\n              />\r\n            ) : null}\r\n\r\n            {/* DELETE */}\r\n            {openModal ? (\r\n              <DeletePostModal\r\n                setOpenModal={setOpenModal}\r\n                openModal={openModal}\r\n                id={postData._id}\r\n              />\r\n            ) : null}\r\n          </PostCardContainer>\r\n        ))\r\n      }\r\n      {/* displaying comment */}\r\n      {postData.comments === undefined ? null : (\r\n        <Comments comments={postData.comments} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SinglePost;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ProfileCardMainContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  @media (max-width: 704px) {\r\n    width: 80%;\r\n    flex-direction: column;\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nexport const ProfileCardContainer = styled.div`\r\n  width: 36%;\r\n  border-radius: 10px;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  padding: 0.5em;\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  position: relative;\r\n\r\n  @media (max-width: 1092px) {\r\n    width: 40%;\r\n  }\r\n\r\n  @media (max-width: 910px) {\r\n    width: 60%;\r\n  }\r\n\r\n  @media (max-width: 704px) {\r\n    width: 100%;\r\n    border-radius: 10px 10px 0px 0px;\r\n  }\r\n\r\n  @media (max-width: 468px) {\r\n    grid-template-columns: repeat(1, 1fr);\r\n    justify-items: center;\r\n  }\r\n`;\r\n\r\nexport const ProfileFriendContainer = styled.div`\r\n  width: 14%;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  margin-left: 0.3em;\r\n  border-radius: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  padding: 0.5em;\r\n\r\n  @media (max-width: 1092px) {\r\n    width: 20%;\r\n  }\r\n\r\n  @media (max-width: 704px) {\r\n    width: 100%;\r\n    border-radius: 0px 0px 10px 0px;\r\n    margin-left: 0;\r\n  }\r\n`;\r\n\r\nexport const ViewFriendsBtn = styled.div`\r\n  border: 1px solid ${({ theme }) => theme.colors.orangeBtn};\r\n  border-radius: 10px;\r\n  padding: 0.3em;\r\n  margin: 0.3em 0;\r\n  font-size: 1.2em;\r\n  cursor: pointer;\r\n  transition: 0.3s ease;\r\n  transition-property: color, border-radius;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    border-radius: 0;\r\n    color: ${({ theme }) => theme.colors.heading};\r\n  }\r\n\r\n  @media (max-width: 530px) {\r\n    margin: 0.3em 0;\r\n  }\r\n`;\r\n\r\nexport const ProfileInfoContainer = styled.div`\r\n  grid-column: 2/4;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n\r\n  @media (max-width: 468px) {\r\n    grid-column: 1;\r\n  }\r\n`;\r\n\r\nexport const ProfilePictureContainer = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nexport const ProfilePictureWrapper = styled.div`\r\n  position: relative;\r\n  border-radius: 50%;\r\n  width: 50%;\r\n`;\r\n\r\nexport const ProfilePicture = styled.img`\r\n  height: 100px;\r\n  width: 100px;\r\n  border-radius: 50%;\r\n  margin: 0 5px;\r\n`;\r\n\r\nexport const ProfileDesc = styled.div`\r\n  grid-column: 2/4;\r\n`;\r\n\r\nexport const EditBtn = styled.div`\r\n  margin-left: auto;\r\n  border: 1px solid ${({ theme }) => theme.colors.orangeBtn};\r\n  border-radius: 10px;\r\n  padding: 0.3em;\r\n  font-size: 1.2em;\r\n  width: max-content;\r\n  cursor: pointer;\r\n  transition: 0.3s ease border-radius;\r\n\r\n  &:hover {\r\n    border-radius: 0;\r\n  }\r\n\r\n  &:hover h5:nth-child(1) {\r\n    color: ${({ theme }) => theme.colors.heading};\r\n  }\r\n\r\n  & h5:nth-child(1) {\r\n    transition: 0.3s ease color;\r\n    color: ${({ theme }) => theme.colors.text};\r\n  }\r\n\r\n  @media (max-width: 530px) {\r\n    margin: 0.3em 0;\r\n  }\r\n`;\r\n\r\nexport const ProfileBtns = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0.3em 0;\r\n\r\n  @media (max-width: 530px) {\r\n    flex-direction: column;\r\n    align-items: start;\r\n  }\r\n`;\r\n\r\nexport const AddFriendBtn = styled.div`\r\n  border: 1px solid ${({ theme }) => theme.colors.greenBtn};\r\n  border-radius: 10px;\r\n  padding: 0.3em;\r\n  margin: 0.3em 0;\r\n  font-size: 1.2em;\r\n  cursor: pointer;\r\n  transition: 0.3s ease;\r\n  transition-property: color, border-radius;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    border-radius: 0;\r\n    color: ${({ theme }) => theme.colors.heading};\r\n  }\r\n\r\n  @media (max-width: 530px) {\r\n    margin: 0.3em 0;\r\n  }\r\n`;\r\n\r\nexport const RemoveFriendBtn = styled.div`\r\n  border: 1px solid ${({ theme }) => theme.colors.redBtn};\r\n  border-radius: 10px;\r\n  padding: 0.3em;\r\n  margin: 0.3em 0;\r\n  font-size: 1.2em;\r\n  cursor: pointer;\r\n  transition: 0.3s ease;\r\n  transition-property: color, border-radius;\r\n  text-align: center;\r\n  color: ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    border-radius: 0;\r\n    color: ${({ theme }) => theme.colors.heading};\r\n  }\r\n\r\n  @media (max-width: 530px) {\r\n    margin: 0.3em 0;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ModalContainer = styled.div`\r\n  width: 100%;\r\n  background-color: ${({ theme }) => theme.colors.cardBg};\r\n`;\r\n\r\nexport const ModalInput = styled.input`\r\n  width: 100%;\r\n  border: 1px solid ${({ theme }) => theme.colors.text};\r\n  border-radius: 15px;\r\n  background: none;\r\n  padding: 0.3em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n  outline: none;\r\n`;\r\n\r\nexport const CloseBtn = styled.div`\r\n  position: absolute;\r\n  left: 90%;\r\n  bottom: 15%;\r\n  border: 1px solid ${({ theme }) => theme.colors.orangeBtn};\r\n  border-radius: 10px;\r\n  padding: 0.3em;\r\n  font-size: 1.2em;\r\n  width: max-content;\r\n  cursor: pointer;\r\n  transition: 0.3s ease border-radius;\r\n\r\n  &:hover {\r\n    border-radius: 0;\r\n  }\r\n`;\r\n","import { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  ModalContainer,\r\n  ModalInput,\r\n} from \"./styles/ProfileStyles/ProfileEditModalStyles\";\r\nimport { editProfile } from \"./utils/apiHelpers\";\r\n\r\nconst ProfileEditModal = ({ id }) => {\r\n  const [name, setName] = useState(\"\");\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      await editProfile(name, id);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  return (\r\n    <ModalContainer>\r\n      <form onSubmit={submitHandler}>\r\n        <ModalInput\r\n          type=\"text\"\r\n          minLength=\"3\"\r\n          maxLength=\"13\"\r\n          placeholder=\"Change username...\"\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n      </form>\r\n    </ModalContainer>\r\n  );\r\n};\r\n\r\nexport default ProfileEditModal;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.8);\r\n  z-index: 20;\r\n`;\r\n\r\nexport const FriendsModalMainContainer = styled.div`\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 80%;\r\n  height: 80%;\r\n  border-radius: 10px;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  padding: 1em;\r\n  z-index: 22;\r\n\r\n  @media (max-width: 752px) {\r\n    width: 95%;\r\n    height: 95%;\r\n  }\r\n`;\r\n\r\nexport const FriendsContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const FriendContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  transition: ease background-color 0.3s;\r\n  padding: 0.5em 0;\r\n  border-radius: 10px 10px 0 0;\r\n  border-bottom: 2px solid ${({ theme }) => theme.colors.text};\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.colors.hoverOverlay};\r\n  }\r\n`;\r\n\r\nexport const FriendNameAndImageContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 10%;\r\n`;\r\n\r\nexport const FriendImage = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const ModalCloseContainer = styled.div`\r\n  width: 100%;\r\n  border-bottom: 2px solid ${({ theme }) => theme.colors.text};\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 0.3em 0;\r\n`;\r\n","import { PostCardButtonDelete } from \"./styles/PostCardStyles\";\r\nimport {\r\n  FriendContainer,\r\n  FriendImage,\r\n  FriendNameAndImageContainer,\r\n  FriendsContainer,\r\n  FriendsModalMainContainer,\r\n  ModalCloseContainer,\r\n  ModalOverlay,\r\n} from \"./styles/ProfileStyles/FriendsModalStyles\";\r\n\r\nconst FriendsModal = ({ usersFriends, toggleFriends, setToggleFriends }) => {\r\n  return (\r\n    <ModalOverlay>\r\n      <FriendsModalMainContainer>\r\n        {/* Exit Modal Btn */}\r\n        <ModalCloseContainer>\r\n          <PostCardButtonDelete\r\n            onClick={() => setToggleFriends(!toggleFriends)}\r\n          >\r\n            &#10060;\r\n          </PostCardButtonDelete>\r\n        </ModalCloseContainer>\r\n        <FriendsContainer>\r\n          {usersFriends.map((friend) => (\r\n            <FriendContainer key={friend._id}>\r\n              <FriendNameAndImageContainer>\r\n                <FriendImage\r\n                  src={`https://avatars.dicebear.com/api/identicon/${friend.username}.svg`}\r\n                />\r\n                <h5>{friend.username}</h5>\r\n              </FriendNameAndImageContainer>\r\n            </FriendContainer>\r\n          ))}\r\n        </FriendsContainer>\r\n      </FriendsModalMainContainer>\r\n    </ModalOverlay>\r\n  );\r\n};\r\n\r\nexport default FriendsModal;\r\n","import { useContext, useState } from \"react\";\r\nimport {\r\n  EditBtn,\r\n  ProfileCardContainer,\r\n  ProfileInfoContainer,\r\n  ProfilePicture,\r\n  ProfilePictureContainer,\r\n  ProfilePictureWrapper,\r\n  ProfileCardMainContainer,\r\n  ProfileFriendContainer,\r\n  ProfileBtns,\r\n  AddFriendBtn,\r\n  ViewFriendsBtn,\r\n  RemoveFriendBtn,\r\n} from \"./styles/ProfileStyles/ProfileStyles\";\r\nimport ProfileEditModal from \"./ProfileEditModal\";\r\nimport { CloseBtn } from \"./styles/ProfileStyles/ProfileEditModalStyles\";\r\nimport FriendsModal from \"./FriendsModal\";\r\nimport { addFriend, getFriends, removeFriend } from \"./utils/apiHelpers\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\n\r\nconst ProfileInfo = ({ name, id, userId, friends }) => {\r\n  const [toggleEdit, setToggleEdit] = useState(false);\r\n  const [toggleFriends, setToggleFriends] = useState(false);\r\n  const [usersFriends, setUsersFriends] = useState([]);\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  // Add friend\r\n  const addFriendHandler = async (id, userId) => {\r\n    await addFriend(id, userId);\r\n  };\r\n\r\n  // Remove friend\r\n  const removeFriendHandler = async (id, userId) => {\r\n    await removeFriend(id, userId);\r\n  };\r\n\r\n  // Displays Friend Modal and gets data (users friend) for modal\r\n  const friendsHandlerModal = async (id) => {\r\n    // Opens & closes modal\r\n    setToggleFriends(!toggleFriends);\r\n\r\n    // Check if user has friends, if not then don't call api\r\n    if (friends.length !== 0) {\r\n      // Gets friends from api\r\n      await getFriends(id).then((data) => setUsersFriends(data));\r\n    }\r\n  };\r\n  return (\r\n    <ProfileCardMainContainer>\r\n      <ProfileCardContainer>\r\n        {toggleEdit ? (\r\n          <>\r\n            <ProfileEditModal id={id} />\r\n            <CloseBtn onClick={() => setToggleEdit(!toggleEdit)}>\r\n              <h5>&#10060;</h5>\r\n            </CloseBtn>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <ProfilePictureContainer>\r\n              <ProfilePictureWrapper>\r\n                <ProfilePicture\r\n                  src={`\r\nhttps://avatars.dicebear.com/api/identicon/${name}.svg\r\n                `}\r\n                />\r\n              </ProfilePictureWrapper>\r\n            </ProfilePictureContainer>\r\n            <ProfileInfoContainer>\r\n              <h3>\r\n                Name: <span>{name}</span>\r\n              </h3>\r\n              <ProfileBtns>\r\n                {userId === id ? (\r\n                  <EditBtn onClick={() => setToggleEdit(!toggleEdit)}>\r\n                    <h5>Edit &#128295;</h5>\r\n                  </EditBtn>\r\n                ) : null}\r\n              </ProfileBtns>\r\n            </ProfileInfoContainer>\r\n          </>\r\n        )}\r\n      </ProfileCardContainer>\r\n\r\n      <ProfileFriendContainer>\r\n        <p>Number of Friends: {friends?.length}</p>\r\n        {/* If friends modal is opend display close friend modal */}\r\n        {toggleFriends ? (\r\n          <ViewFriendsBtn onClick={() => setToggleFriends(!toggleFriends)}>\r\n            Close Modal &#10060;\r\n          </ViewFriendsBtn>\r\n        ) : (\r\n          <ViewFriendsBtn onClick={() => friendsHandlerModal(id)}>\r\n            View Friends &#128064;\r\n          </ViewFriendsBtn>\r\n        )}\r\n\r\n        {userId !== id ? (\r\n          <>\r\n            {friends?.includes(userId) ? (\r\n              <RemoveFriendBtn onClick={() => removeFriendHandler(id, userId)}>\r\n                Remove Friend &#128549;\r\n              </RemoveFriendBtn>\r\n            ) : (\r\n              <AddFriendBtn onClick={() => addFriendHandler(id, userId)}>\r\n                Add a Friend &#128526;\r\n              </AddFriendBtn>\r\n            )}\r\n          </>\r\n        ) : null}\r\n      </ProfileFriendContainer>\r\n\r\n      {/* Friends Modal */}\r\n      {toggleFriends ? (\r\n        <FriendsModal\r\n          toggleFriends={toggleFriends}\r\n          setToggleFriends={setToggleFriends}\r\n          usersFriends={usersFriends}\r\n        />\r\n      ) : null}\r\n    </ProfileCardMainContainer>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import Post from \"./Post\";\r\n\r\nconst ProfilePosts = ({ posts }) => {\r\n  return (\r\n    <div>\r\n      {posts.map((post) => (\r\n        <Post key={post._id} post={post} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePosts;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useParams } from \"react-router\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport ProfilePosts from \"./ProfilePosts\";\r\nimport Loader from \"./Loader\";\r\nimport { fetchPostData, fetchProfileData } from \"./utils/apiHelpers\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\n\r\nconst Profile = () => {\r\n  const { username, id } = useParams();\r\n  const [posts, setPosts] = useState();\r\n  const [info, setInfo] = useState({});\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const { username: name, friends } = info;\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n    const getData = async () => {\r\n      await fetchProfileData(username, id).then((data) => setPosts(data));\r\n      await fetchPostData(id).then((data) => setInfo(data));\r\n    };\r\n    getData();\r\n  }, [id, username, user]);\r\n\r\n  return (\r\n    <>\r\n      {posts === undefined ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <ProfileInfo\r\n            id={id}\r\n            userId={user.user._id}\r\n            friends={friends}\r\n            name={name}\r\n          />\r\n          <ProfilePosts id={id} posts={posts} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","const LightTheme = {\r\n  colors: {\r\n    body: \"#dbe1e8\",\r\n    text: \"#454e56\",\r\n    heading: \"#12181b\",\r\n    cardBg: \"#fff\",\r\n    greenBtn: \"#09c372\",\r\n    redBtn: \"#ff3860\",\r\n    orangeBtn: \"#fa8142\",\r\n    editBtn: \"#9166cc\",\r\n    hoverOverlay: \"rgba(33, 33, 33, 0.1)\",\r\n  },\r\n};\r\n\r\nconst DarkTheme = {\r\n  colors: {\r\n    body: \"#12181b\",\r\n    text: \"#b2becd\",\r\n    heading: \"#fff\",\r\n    cardBg: \"#2a2e35\",\r\n    greenBtn: \"#09c372\",\r\n    redBtn: \"#ff3860\",\r\n    orangeBtn: \"#fa8142\",\r\n    editBtn: \"#9166cc\",\r\n    hoverOverlay: \"rgba(255, 255, 255, 0.1)\",\r\n  },\r\n};\r\n\r\nconst theme = {\r\n  light: LightTheme,\r\n  dark: DarkTheme,\r\n  fonts: \"Montserrat, sans-serif\",\r\n};\r\n\r\nexport default theme;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainWindowContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 85vh;\r\n  margin-bottom: 1em;\r\n`;\r\n\r\nexport const FriendListContainer = styled.div`\r\n  position: relative;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  height: 100%;\r\n  padding: 1em;\r\n  border-radius: 10px;\r\n  flex: 1;\r\n\r\n  @media (max-width: 1042px) {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    height: 100vh;\r\n    width: 50%;\r\n    z-index: ${({ toggle }) => (toggle ? \"0\" : \"20\")};\r\n\r\n    transform: ${({ toggle }) =>\r\n      toggle ? \"translateX(-100%)\" : \"translateX(0)\"};\r\n  }\r\n\r\n  @media (max-width: 490px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nexport const ConvoHeadingContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const OpenCloseBtn = styled.div`\r\n  display: none;\r\n  position: ${({ toggle }) => (toggle ? \"absolute\" : \"static\")};\r\n  top: 20%;\r\n  right: -30px;\r\n  color: red;\r\n  width: 35px;\r\n  height: 35px;\r\n  padding: ${({ toggle }) => (toggle ? \"1em\" : \"none\")};\r\n  border-radius: 0 10px 10px 0;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  cursor: pointer;\r\n\r\n  @media (max-width: 1042px) {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const OpenCloseOnlineFriends = styled.div`\r\n  display: none;\r\n  position: ${({ toggle }) => (toggle ? \"absolute\" : \"static\")};\r\n  top: 0;\r\n  left: -30px;\r\n  color: red;\r\n  width: 35px;\r\n  height: 35px;\r\n  padding: ${({ toggle }) => (toggle ? \"1em\" : \"none\")};\r\n  border-radius: 10px 0 0 10px;\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  cursor: pointer;\r\n\r\n  @media (max-width: 1042px) {\r\n    top: 20%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const FriendListWrapper = styled.div`\r\n  border-right: 2px solid ${({ theme }) => theme.colors.hoverOverlay};\r\n`;\r\n\r\nexport const ChatBoxContainer = styled.div`\r\n  padding: 0 1em;\r\n  display: flex;\r\n  flex-direction: column;\r\n  flex: 2;\r\n\r\n  @media (max-width: 1042px) {\r\n    padding: 0 2em;\r\n  }\r\n`;\r\n\r\nexport const ChatBoxMessageBox = styled.div`\r\n  border: 2px solid ${({ theme }) => theme.colors.hoverOverlay};\r\n  border-radius: 10px;\r\n  margin-bottom: 0.3em;\r\n  padding: 1em;\r\n  color: ${({ theme }) => theme.colors.text};\r\n  height: 100%;\r\n  overflow-y: auto;\r\n`;\r\n\r\nexport const ChatBoxInput = styled.input`\r\n  width: 100%;\r\n  background: none;\r\n  border-radius: 10px;\r\n  border: 2px solid ${({ theme }) => theme.colors.hoverOverlay};\r\n  color: ${({ theme }) => theme.colors.text};\r\n  padding: 1em;\r\n  outline: none;\r\n`;\r\n\r\nexport const OnlineUsers = styled.div`\r\n  background: ${({ theme }) => theme.colors.cardBg};\r\n  heigth: 100%;\r\n  padding: 1em;\r\n  border-radius: 10px;\r\n  flex: 1;\r\n\r\n  position: relative;\r\n\r\n  @media (max-width: 1042px) {\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    height: 100vh;\r\n    width: 50%;\r\n    z-index: 20;\r\n\r\n    transform: ${({ toggle }) =>\r\n      toggle ? \"translateX(100%)\" : \"translateX(0)\"};\r\n  }\r\n\r\n  @media (max-width: 490px) {\r\n    width: 80%;\r\n  } ;\r\n`;\r\n\r\nexport const OnlineUsersWrapper = styled.div`\r\n  border-left: 2px solid ${({ theme }) => theme.colors.hoverOverlay};\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ConversationMainContainer = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  transition: 0.3s ease background-color;\r\n  padding: 0.3em;\r\n  border-radius: 10px;\r\n\r\n  &:hover {\r\n    background-color: ${({ theme }) => theme.colors.hoverOverlay};\r\n  }\r\n\r\n  & span {\r\n    font-size: 1.3em;\r\n    color: ${({ theme }) => theme.colors.heading};\r\n    margin: 1em 0.5em;\r\n  }\r\n`;\r\n\r\nexport const ConversationImg = styled.img`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  ConversationImg,\r\n  ConversationMainContainer,\r\n} from \"./styles/ConversationStyles/ConversationStyles\";\r\nimport { getUserData } from \"./utils/apiHelpers\";\r\n\r\nconst Conversation = ({ con, id }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const friendId = con.members.find((m) => m !== id);\r\n\r\n    const getUser = async () => {\r\n      getUserData(friendId).then((data) => setUser(data));\r\n    };\r\n    getUser();\r\n  }, [con, id]);\r\n\r\n  return (\r\n    <ConversationMainContainer>\r\n      <ConversationImg\r\n        src={`https://avatars.dicebear.com/api/identicon/${user?.username}.svg`}\r\n        alt=\"\"\r\n      />\r\n      <span>{user?.username}</span>\r\n    </ConversationMainContainer>\r\n  );\r\n};\r\n\r\nexport default Conversation;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MessageContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: ${({ self }) => (self ? \"row-reverse\" : null)};\r\n  margin: 0.5em 0;\r\n  overflow-wrap: anywhere;\r\n`;\r\n\r\nexport const UserContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: relative;\r\n  padding: 0.5em;\r\n  border-radius: 10px;\r\n  min-width: 100px;\r\n  background: ${({ theme }) => theme.colors.hoverOverlay};\r\n`;\r\n\r\nexport const MessageImg = styled.img`\r\n  height: 25px;\r\n  width: 25px;\r\n  margin: 0.5em 0.3em;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const MsgStamp = styled.p`\r\n  position: absolute;\r\n  margin: 0.1em 0.5em;\r\n  top: 0;\r\n  right: 0;\r\n  font-size: 0.7em;\r\n  color: ${({ theme }) => theme.colors.heading};\r\n`;\r\n","import { useEffect, useState } from \"react\";\r\nimport {\r\n  MessageContainer,\r\n  MessageImg,\r\n  MsgStamp,\r\n  UserContainer,\r\n} from \"./styles/MessageStyles/MessageStyles\";\r\nimport { getUserData } from \"./utils/apiHelpers\";\r\nimport moment from \"moment\";\r\n\r\nconst Message = ({ text, senderId, id, stamp }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Gets user data\r\n    const getUser = async () => {\r\n      await getUserData(senderId).then((data) => setUser(data));\r\n    };\r\n\r\n    getUser();\r\n  }, []);\r\n\r\n  return (\r\n    <MessageContainer self={senderId === id}>\r\n      <UserContainer>\r\n        <MessageImg\r\n          src={`https://avatars.dicebear.com/api/identicon/${user?.username}.svg`}\r\n        />\r\n        <p>{text}</p>\r\n        <MsgStamp>{moment(stamp).format(\"LT\")}</MsgStamp>\r\n      </UserContainer>\r\n    </MessageContainer>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { useEffect, useState } from \"react\";\r\nimport { findConvo, getFriends } from \"./utils/apiHelpers\";\r\nimport {\r\n  ConversationImg,\r\n  ConversationMainContainer,\r\n} from \"./styles/ConversationStyles/ConversationStyles\";\r\n\r\nconst OnlineUsersComp = ({ userId, setCurrentChat, onlineUsers }) => {\r\n  const [friends, setFriends] = useState([]);\r\n  const [onlineFriends, setOnlineFriends] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getUsersFriends = async (id) => {\r\n      await getFriends(id).then((data) => setFriends(data));\r\n    };\r\n\r\n    getUsersFriends(userId);\r\n  }, [userId]);\r\n\r\n  // call online users on load\r\n  useEffect(() => {\r\n    setOnlineFriends(friends.filter((f) => onlineUsers.includes(f._id)));\r\n  }, [friends, onlineUsers]);\r\n\r\n  //find convo\r\n  const findConversation = async (userId, friendId) => {\r\n    await findConvo(userId, friendId).then((data) => setCurrentChat(data));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {onlineFriends.map((onlineFriend) => (\r\n        <ConversationMainContainer\r\n          key={onlineFriend.id}\r\n          onClick={() => findConversation(onlineFriend._id, userId)}\r\n        >\r\n          <ConversationImg\r\n            src={`https://avatars.dicebear.com/api/identicon/${onlineFriend.username}.svg`}\r\n            alt=\"\"\r\n          />\r\n          <span>{onlineFriend.username}</span>\r\n        </ConversationMainContainer>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OnlineUsersComp;\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  ChatBoxContainer,\r\n  ChatBoxInput,\r\n  ChatBoxMessageBox,\r\n  ConvoHeadingContainer,\r\n  FriendListContainer,\r\n  FriendListWrapper,\r\n  MainWindowContainer,\r\n  OnlineUsers,\r\n  OnlineUsersWrapper,\r\n  OpenCloseBtn,\r\n  OpenCloseOnlineFriends,\r\n} from \"./styles/ChatwindowStyles/ChatWindowStyles\";\r\nimport { getConversation, getMessages, sendMsg } from \"./utils/apiHelpers\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport Conversation from \"./Conversation\";\r\nimport Message from \"./Message\";\r\n\r\nimport OnlineUsersComp from \"./OnlineUsersComp\";\r\n\r\nconst ChatWindow = ({ socket }) => {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  // List of conversations\r\n  const [conversations, setConversations] = useState([]);\r\n\r\n  // Online users\r\n  const [onlineUsers, setOnlineUsers] = useState([]);\r\n\r\n  // Current onversation chat\r\n  const [currentChat, setCurrentChat] = useState(null);\r\n\r\n  // List of conversation messages\r\n  const [messages, setMessages] = useState([]);\r\n\r\n  // scrolling when there is a new message\r\n  const scrollRef = useRef();\r\n\r\n  //   Input msg\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n\r\n  // Arrival msg\r\n  const [arrivalMsg, setArrivalMsg] = useState(null);\r\n\r\n  // OpenClose conversations on mobile\r\n  const [toggleConversation, setToggleConversation] = useState(true);\r\n\r\n  // OpenClose Online Friends on mobile\r\n  const [toggleOnlineFriends, setToggleOnlineFriends] = useState(true);\r\n\r\n  // Socket effect so it calls only once\r\n  useEffect(() => {\r\n    socket.current.on(\"getMessage\", (data) => {\r\n      setArrivalMsg({\r\n        sender: data.senderId,\r\n        text: data.text,\r\n        createdAt: Date.now(),\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  // Conversations\r\n  useEffect(() => {\r\n    socket.current.emit(\"addUser\", user.user._id, user.user.username);\r\n\r\n    socket.current.on(\"getUsers\", (users) => {\r\n      setOnlineUsers(\r\n        user.user.friends.filter((f) => users.some((u) => u.userId === f))\r\n      );\r\n    });\r\n\r\n    // Gets conversations\r\n    const getConvs = (id) => {\r\n      getConversation(id).then((data) => setConversations(data));\r\n    };\r\n\r\n    getConvs(user.user._id);\r\n  }, [user]);\r\n\r\n  // Arrival Effect\r\n  useEffect(() => {\r\n    arrivalMsg &&\r\n      currentChat?.members.includes(arrivalMsg.sender) &&\r\n      setMessages((prev) => [...prev, arrivalMsg]);\r\n  }, [arrivalMsg, currentChat]);\r\n\r\n  //Messages\r\n  useEffect(() => {\r\n    // gets messages from conversation\r\n    const getMsgs = (id) => {\r\n      getMessages(id).then((data) => setMessages(data));\r\n    };\r\n\r\n    getMsgs(currentChat?._id);\r\n  }, [currentChat]);\r\n\r\n  // scroll into view message\r\n  useEffect(() => {\r\n    scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  }, [messages]);\r\n\r\n  //   HANDLERS\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // creating new message that inputs to dom\r\n    const message = {\r\n      sender: user.user._id,\r\n      text: inputMessage,\r\n      conversationId: currentChat._id,\r\n    };\r\n\r\n    const receiverId = currentChat.members.find(\r\n      (member) => member !== user.user._id\r\n    );\r\n\r\n    if (messages !== \"\") {\r\n      socket.current.emit(\"sendMessage\", {\r\n        senderId: user.user._id,\r\n        receiverId,\r\n        text: inputMessage,\r\n      });\r\n\r\n      try {\r\n        await sendMsg(message).then((data) => setMessages([...messages, data]));\r\n        await setInputMessage(\"\");\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainWindowContainer>\r\n      <FriendListContainer toggle={toggleConversation}>\r\n        <FriendListWrapper>\r\n          <ConvoHeadingContainer>\r\n            <h1>Conversations</h1>\r\n\r\n            <OpenCloseBtn\r\n              toggle={toggleConversation}\r\n              onClick={() => setToggleConversation(!toggleConversation)}\r\n            >\r\n              &#10060;\r\n            </OpenCloseBtn>\r\n          </ConvoHeadingContainer>\r\n          <div>\r\n            {/* CONVERSATIONS */}\r\n            {conversations?.map((conversation) => (\r\n              <div\r\n                key={conversation._id}\r\n                onClick={() => setCurrentChat(conversation)}\r\n              >\r\n                <Conversation con={conversation} id={user.user._id} />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </FriendListWrapper>\r\n      </FriendListContainer>\r\n      {/* CHAT WINDOW */}\r\n      {!currentChat ? (\r\n        <ChatBoxContainer></ChatBoxContainer>\r\n      ) : (\r\n        <ChatBoxContainer>\r\n          <ChatBoxMessageBox>\r\n            {messages.map((msg, i) => (\r\n              <div key={i} ref={scrollRef}>\r\n                <Message\r\n                  stamp={msg.createdAt}\r\n                  text={msg.text}\r\n                  senderId={msg.sender}\r\n                  id={user.user._id}\r\n                />\r\n              </div>\r\n            ))}\r\n          </ChatBoxMessageBox>\r\n          <form onSubmit={submitHandler}>\r\n            <ChatBoxInput\r\n              placeholder=\"Type message...\"\r\n              type=\"text\"\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n            />\r\n          </form>\r\n        </ChatBoxContainer>\r\n      )}\r\n      <OnlineUsers toggle={toggleOnlineFriends}>\r\n        <OnlineUsersWrapper>\r\n          <ConvoHeadingContainer>\r\n            <OpenCloseOnlineFriends\r\n              toggle={toggleOnlineFriends}\r\n              onClick={() => setToggleOnlineFriends(!toggleOnlineFriends)}\r\n            >\r\n              &#10060;\r\n            </OpenCloseOnlineFriends>\r\n            <h1>Online User</h1>\r\n          </ConvoHeadingContainer>\r\n          <OnlineUsersComp\r\n            userId={user.user._id}\r\n            setCurrentChat={setCurrentChat}\r\n            onlineUsers={onlineUsers}\r\n          />\r\n        </OnlineUsersWrapper>\r\n      </OnlineUsers>\r\n    </MainWindowContainer>\r\n  );\r\n};\r\n\r\nexport default ChatWindow;\r\n","import styled from \"styled-components\";\r\n\r\nexport const NotFoundContainer = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 2em;\r\n  width: 100%;\r\n  text-align: center;\r\n`;\r\n","import { useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport { NotFoundContainer } from \"./styles/NotFoundStyles/NotFoundStyles\";\r\n\r\nconst NotFound = () => {\r\n  const history = useHistory();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push(\"/login\");\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <NotFoundContainer>\r\n      <h1>404 NOT FOUND &#128565;</h1>\r\n    </NotFoundContainer>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { AuthContext } from \"./components/context/AuthContext\";\r\nimport { io } from \"socket.io-client\";\r\n\r\n// Style\r\nimport GlobalStyles from \"./components/styles/GlobalStyles\";\r\n\r\n// Routing\r\nimport {\r\n  BrowserRouter as Router,\r\n  Redirect,\r\n  Route,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport LoginLayout from \"./components/LoginLayout\";\r\nimport RegisterLayout from \"./components/RegisterLayout\";\r\nimport HomepageLayout from \"./components/HomepageLayout\";\r\nimport Navbar from \"./components/Navbar\";\r\nimport About from \"./components/About\";\r\nimport Footer from \"./components/Footer\";\r\nimport CreatePost from \"./components/CreatePost\";\r\nimport SinglePost from \"./components/SinglePost\";\r\nimport Profile from \"./components/Profile\";\r\n\r\n// import theme from \"./components/styles/theme\";\r\nimport theme from \"./components/styles/theme\";\r\nimport ChatWindow from \"./components/ChatWindow\";\r\nimport NotFound from \"./components/NotFound\";\r\n\r\nfunction App() {\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [themes, setThemes] = useState(\r\n    JSON.parse(localStorage.getItem(\"theme\")) || \"dark\"\r\n  );\r\n\r\n  const socket = useRef();\r\n\r\n  socket.current = io(\"ws://localhost:5000\");\r\n\r\n  useEffect(() => {\r\n    socket.current.emit(\"getUser\", user);\r\n\r\n    socket.current.emit(\"addUser\", user?.user._id, user?.user.username);\r\n  }, [user]);\r\n\r\n  return (\r\n    <Router>\r\n      <ThemeProvider theme={theme[themes]}>\r\n        <GlobalStyles />\r\n\r\n        <Navbar\r\n          socket={socket}\r\n          themes={themes}\r\n          setThemes={setThemes}\r\n          user={user}\r\n        />\r\n\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <HomepageLayout socket={socket} />\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            {!user ? <LoginLayout /> : <Redirect to=\"/\" />}\r\n          </Route>\r\n          <Route path=\"/register\">\r\n            {!user ? <RegisterLayout /> : <Redirect to=\"/\" />}\r\n          </Route>\r\n          <Route path=\"/about\">\r\n            <About />\r\n          </Route>\r\n          <Route path=\"/createPost\">\r\n            <CreatePost />\r\n          </Route>\r\n          <Route path=\"/posts/:id\">\r\n            <SinglePost socket={socket} />\r\n          </Route>\r\n          <Route path=\"/profile/:username/:id\">\r\n            <Profile />\r\n          </Route>\r\n          <Route path=\"/chat\">\r\n            {user ? <ChatWindow socket={socket} /> : <Redirect to=\"/login\" />}\r\n          </Route>\r\n          <Route path=\"*\">\r\n            <NotFound />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n      </ThemeProvider>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./components/context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}